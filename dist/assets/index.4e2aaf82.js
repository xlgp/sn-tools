import{d as A,z as Ae,E as we,c as w,w as s,r as j,o as F,a,b as x,i as N,e as G,C as Q,f as Z,g as ee,h as M,j as m,k as $e,l as Se,v as ke,m as v,n as T,F as k,p as ae,q as le,s as D,t as b,u as $,x as W,y as oe,A as q,B as X,D as Ve,G as Le,H as Te,I as J,J as H,K as fe,L as Fe,M as c,N as ge,O as Ie,P as je,Q as Ee,R as re,S as se,T as Ne,U as Re,V as Pe,W as Je,X as Me,Y as te,Z as Oe,_ as ie,$ as be,a0 as De,a1 as ve,a2 as ye,a3 as Ue,a4 as Y,a5 as z,a6 as Ce,a7 as ze,a8 as qe,a9 as Xe,aa as Ye,ab as He,ac as ce,ad as pe,ae as Ke,af as Ge,ag as We,ah as Qe,ai as Ze,aj as et,ak as tt}from"./vendor.c8df1db6.js";const ut=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}};ut();var S=(e,n)=>{const l=e.__vccOpts||e;for(const[u,t]of n)l[u]=t;return l};const nt=A({name:"App",setup(){return{zIndex:3e3,locale:Ae}}});function at(e,n,l,u,t,r){const i=j("router-view"),d=we;return F(),w(d,{locale:e.locale,"z-index":e.zIndex},{default:s(()=>[a(i)]),_:1},8,["locale","z-index"])}var lt=S(nt,[["render",at]]),ot=()=>({date:"\u65E5\u671F",dingsunyuan:"\u5B9A\u635F\u5458",xiaoshouyuan:"\u9500\u552E\u5458",chepai:"\u8F66\u724C",pinpai:"\u54C1\u724C",isChengJiao:"\u662F\u5426\u6210\u4EA4",jine:"\u91D1\u989D",pinpai_leibie:"\u54C1\u724C\u7C7B\u522B"});const rt=[{name:"\u5965\u5FB7\u8D5B",leibie:"\u65E5\u672C",parent:"\u672C\u7530"},{name:"\u5B9D\u9A6C",leibie:"\u5FB7\u56FD",parent:""},{name:"\u5317\u4EAC\u73B0\u4EE3",leibie:"\u5176\u4ED6",parent:""},{name:"\u5954\u9A70",leibie:"\u5FB7\u56FD",parent:""},{name:"\u5965\u8FEA",leibie:"\u5FB7\u56FD",parent:""},{name:"\u6BD4\u4E9A\u8FEA",leibie:"\u4E2D\u56FD",parent:""},{name:"\u522B\u514B",leibie:"\u7F8E\u56FD",parent:""},{name:"\u5BBE\u5229",leibie:"\u82F1\u56FD",parent:""},{name:"\u957F\u5B89",leibie:"\u4E2D\u56FD",parent:""},{name:"\u5927\u4F17",leibie:"\u5FB7\u56FD",parent:""},{name:"\u8C1B\u827E\u4ED5",leibie:"\u6CD5\u56FD",parent:""},{name:"\u5E1D\u8C6A",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E1C\u98CE\u65E5\u4EA7",leibie:"\u5176\u4ED6",parent:""},{name:"\u4E1C\u98CE\u5929\u9F99",leibie:"\u4E2D\u56FD",parent:"\u5409\u5229"},{name:"\u4E1C\u98CE\u96EA\u94C1\u9F99",leibie:"\u5176\u4ED6",parent:""},{name:"\u4E1C\u98CE\u60A6\u8FBE\u8D77\u4E9A",leibie:"\u5176\u4ED6",parent:""},{name:"\u98CE\u795E",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E30\u7530",leibie:"\u65E5\u672C",parent:""},{name:"\u5E7F\u4E30",leibie:"\u65E5\u672C",parent:"\u4E30\u7530"},{name:"\u798F\u7279",leibie:"\u7F8E\u56FD",parent:""},{name:"\u798F\u7530",leibie:"\u4E2D\u56FD",parent:""},{name:"\u5E7F\u6C7D\u672C\u7530",leibie:"\u5176\u4ED6",parent:""},{name:"\u54C8\u5F17",leibie:"\u4E2D\u56FD",parent:""},{name:"\u6C5F\u6DEE",leibie:"\u4E2D\u56FD",parent:""},{name:"\u6377\u8C79",leibie:"\u82F1\u56FD",parent:""},{name:"\u6676\u9A6C",leibie:"\u4E2D\u56FD",parent:""},{name:"\u51EF\u8FEA\u62C9\u514B",leibie:"\u7F8E\u56FD",parent:"\u6C5F\u94C3"},{name:"\u8DEF\u864E",leibie:"\u82F1\u56FD",parent:""},{name:"\u739B\u838E\u62C9\u8482",leibie:"\u610F\u5927\u5229",parent:""},{name:"\u9A6C\u81EA\u8FBE",leibie:"\u65E5\u672C",parent:""},{name:"\u5C3C\u6851",leibie:"\u65E5\u672C",parent:""},{name:"\u6B27\u66FC",leibie:"\u5176\u4ED6",parent:""},{name:"\u8363\u5A01",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E09\u83F1",leibie:"\u65E5\u672C",parent:""},{name:"\u5C1A\u9177",leibie:"\u5FB7\u56FD",parent:"\u5927\u4F17"},{name:"\u65AF\u67EF\u8FBE",leibie:"\u5FB7\u56FD",parent:""},{name:"\u7D22\u5170\u6258",leibie:"\u97E9\u56FD",parent:"\u8D77\u4E9A"},{name:"\u7279\u65AF\u62C9",leibie:"\u7F8E\u56FD",parent:""},{name:"\u6C83\u5C14\u6C83",leibie:"\u745E\u5178",parent:""},{name:"\u4E94\u83F1",leibie:"\u4E2D\u56FD",parent:""},{name:"\u73B0\u4EE3",leibie:"\u97E9\u56FD",parent:""},{name:"\u96EA\u4F5B\u5170",leibie:"\u7F8E\u56FD",parent:""},{name:"\u96C5\u9601",leibie:"\u65E5\u672C",parent:"\u672C\u7530"},{name:"\u7F24\u667A",leibie:"\u65E5\u672C",parent:"\u672C\u7530"},{name:"\u82F1\u83F2\u5C3C\u8FEA",leibie:"\u65E5\u672C",parent:""},{name:"\u4E2D\u534E",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E2D\u9A8F",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E2D\u8054",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E1C\u98CE",leibie:"\u4E2D\u56FD",parent:""},{name:"\u514B\u83B1\u65AF\u52D2",leibie:"\u7F8E\u56FD",parent:""},{name:"\u5317\u4EAC",leibie:"\u4E2D\u56FD",parent:""},{name:"\u957F\u57CE",leibie:"\u4E2D\u56FD",parent:""},{name:"\u5965\u94C3",leibie:"\u4E2D\u56FD",parent:"\u798F\u7530"},{name:"\u6D77\u9A6C",leibie:"\u4E2D\u56FD",parent:""},{name:"\u7EA2\u65D7",leibie:"\u4E2D\u56FD",parent:""},{name:"\u51E0\u4F55",leibie:"\u4E2D\u56FD",parent:"\u5409\u5229"},{name:"\u5E86\u94C3",leibie:"\u4E2D\u56FD",parent:""},{name:"\u601D\u5A01",leibie:"\u65E5\u672C",parent:"\u672C\u7530"},{name:"\u817E\u52BF",leibie:"\u5176\u4ED6",parent:""},{name:"\u7FFC\u864E",leibie:"\u4E2D\u56FD",parent:"\u957F\u5B89"},{name:"\u6B27\u62C9",leibie:"\u4E2D\u56FD",parent:"\u957F\u57CE"},{name:"\u8FDC\u7A0B",leibie:"\u4E2D\u56FD",parent:"\u5409\u5229"},{name:"\u5723\u739B\u6258",leibie:"\u7F8E\u56FD",parent:""},{name:"\u6377\u9014",leibie:"\u4E2D\u56FD",parent:"\u5947\u745E"},{name:"\u957F\u57CE\u98CE\u9A8F7",leibie:"\u4E2D\u56FD",parent:"\u957F\u57CE"}];var st=e=>{let n="\u65E0\u54C1\u724C\u7C7B\u522B",l=o=>rt.filter(_=>_.name==o||_.parent==o),u=()=>{let o=[];return e.value!=null&&e.value.length>0&&(o=e.value.split(`
`)),o.length>0&&(o=o.filter(f=>f!=null&&f.length>0)),o.length==0?[]:o.map(f=>{let p=f.split("	"),h={};h.date=p[0]&&p[0].trim()||"\u65E0\u65E5\u671F",h.dingsunyuan=p[1]&&p[1].trim()||"\u65E0\u5B9A\u635F\u5458",h.xiaoshouyuan=p[2]&&p[2].trim()||"\u65E0\u9500\u552E\u5458",h.chepai=p[3]&&p[3].trim()||"\u8F66\u724C",h.pinpai=p[4]&&p[4].trim()||"\u54C1\u724C",h.isChengJiao=p[5]&&p[5].trim()=="\u662F"&&!0||!1,h.jine=p[6]&&parseInt(p[6].trim())||0,h.pinpai_leibie=n;try{h.pinpai!="\u54C1\u724C"&&(h.pinpai_leibie=l(h.pinpai)[0].leibie)}catch(g){console.error(h,g)}return h})};const t=x(()=>u()),r=x(()=>{let o=0;return t.value&&t.value.length>0&&t.value.forEach(_=>{isNaN(_.jine)||(o+=_.jine)}),o}),i=x(()=>t.value&&t.value.length>0?t.value.filter(o=>o.pinpai_leibie==n):[]),d=x(()=>{let o=0,_=[];return t.value&&t.value.length>0&&(_=t.value.filter(f=>f.isChengJiao?(o+=f.jine,!0):!1)),{list:_,totalAmount:o}});return{dataList:t,totalAmount:r,chengJiaoData:d,noPinPaiDataList:i}},it=(e,n,l)=>{function u(){let t=["\u8BE2\u4EF7\u5355\u6570","\u8BE2\u4EF7\u91D1\u989D","\u4F9B\u5E94\u5355\u6570","\u4F9B\u5E94\u91D1\u989D","\u672A\u4F9B\u5E94\u5355\u6570","\u672A\u4F9B\u5E94\u91D1\u989D"],r=[];if(e.value&&e.value.length>0){r.push({key:t[0],num:e.value.length,rate:1}),r.push({key:t[1],num:n.value,rate:1}),r.push({key:t[2],num:l.value.list.length,rate:l.value.list.length/e.value.length}),r.push({key:t[3],num:l.value.totalAmount,rate:l.value.totalAmount/n.value});let i=e.value.length-l.value.list.length;r.push({key:t[4],num:i,rate:i/e.value.length});let d=n.value-l.value.totalAmount;r.push({key:t[5],num:d,rate:d/n.value})}return r}return x(()=>u())};const dt=A({name:"TotalAnalyse",setup(){const e=N("dataList"),n=N("totalAmount"),l=N("chengJiaoData"),u=it(e,n,l);return G(()=>{new Q("#totalTable")}),{totalAnalyse:u}}}),ct=m("span",null,"\u62A5\u4EF7\u603B\u91CF\u5206\u6790",-1);function pt(e,n,l,u,t,r){const i=Z,d=ee,o=M;return F(),w(o,{class:"box-card",id:"totalCard"},{header:s(()=>[ct]),default:s(()=>[a(d,{data:e.totalAnalyse,id:"totalTable","data-clipboard-target":"#totalCard",style:{width:"100%"},size:"small"},{default:s(()=>[a(i,{type:"index",label:"\u5E8F\u53F7"}),a(i,{prop:"key",label:"\u7C7B\u578B"}),a(i,{prop:"num",label:"\u6570\u91CF"}),a(i,{prop:"rate",label:"\u5360\u6BD4"})]),_:1},8,["data"])]),_:1})}var _t=S(dt,[["render",pt]]);function mt(e){return{pinpai_leibie:e.pinpai_leibie,total:1,jine:e.jine,totalRate:0,jineRate:0,chengJiaoTotal:e.isChengJiao&&1||0,chengJiaoJine:e.isChengJiao&&e.jine||0}}function ht(e,n){e.total+=1,e.jine+=n.jine,e.chengJiaoTotal+=n.isChengJiao&&1||0,e.chengJiaoJine+=n.isChengJiao&&n.jine||0}function ft(e,n,l){Object.keys(e).forEach(t=>{e[t].totalRate=e[t].total/n,e[t].jineRate=e[t].jine/l})}var Ft=(e,n)=>{function l(){let u={};return e.value&&e.value.length>0&&(e.value.sort((t,r)=>t.pinpai_leibie.localeCompare(r.pinpai_leibie)),e.value.forEach(t=>{u[t.pinpai_leibie]?ht(u[t.pinpai_leibie],t):u[t.pinpai_leibie]=mt(t)}),ft(u,e.value.length,n.value)),u}return x(()=>l())};const gt=A({name:"PinPaiAnalyse",setup(){const e=N("dataList"),n=N("totalAmount"),l=Ft(e,n),u=x(()=>Object.values(l.value));return G(()=>{new Q("#pinpaiTable")}),{tableData:u}}}),Et=m("span",null,"\u54C1\u724C\u6784\u6210\u5206\u6790",-1);function bt(e,n,l,u,t,r){const i=Z,d=ee,o=M;return F(),w(o,{class:"box-card",id:"pinpaiCard"},{header:s(()=>[Et]),default:s(()=>[a(d,{data:e.tableData,id:"pinpaiTable","data-clipboard-target":"#pinpaiCard",style:{width:"100%"},size:"small","show-summary":""},{default:s(()=>[a(i,{type:"index",label:"\u5E8F\u53F7"}),a(i,{prop:"pinpai_leibie",label:"\u7C7B\u578B"}),a(i,{prop:"total",label:"\u6570\u91CF\uFF08\u4EFD\uFF09"}),a(i,{prop:"jine",label:"\u91D1\u989D"}),a(i,{prop:"totalRate",label:"\u6570\u91CF\u5360\u6BD4"}),a(i,{prop:"jineRate",label:"\u91D1\u989D\u5360\u6BD4"}),a(i,{prop:"chengJiaoTotal",label:"\u6210\u4EA4\u6570\u91CF"}),a(i,{prop:"chengJiaoJine",label:"\u6210\u4EA4\u91D1\u989D"})]),_:1},8,["data"])]),_:1})}var Dt=S(gt,[["render",bt]]);function vt(e){return{total:1,jine:e.jine,totalRate:0,jineRate:0,chengJiaoTotal:e.isChengJiao&&1||0,chengJiaoJine:e.isChengJiao&&e.jine||0,dingsunyuan:e.dingsunyuan}}function yt(e,n){e.total+=1,e.jine+=n.jine,e.chengJiaoTotal+=n.isChengJiao&&1||0,e.chengJiaoJine+=n.isChengJiao&&n.jine||0}function Ct(e,n,l){Object.keys(e).forEach(t=>{e[t].totalRate=e[t].total/n,e[t].jineRate=e[t].jine/l})}var Bt=(e,n)=>{let l=()=>{let u={};return e.value&&e.value.length>0&&(e.value.sort((t,r)=>t.dingsunyuan.localeCompare(r.dingsunyuan)),e.value.forEach(t=>{u[t.dingsunyuan]?yt(u[t.dingsunyuan],t):u[t.dingsunyuan]=vt(t)}),Ct(u,e.value.length,n.value)),u};return x(()=>l())};const xt=A({name:"DingSunYuanAnalyse",setup(){const e=N("dataList"),n=N("totalAmount"),l=Bt(e,n),u=x(()=>Object.values(l.value));return G(()=>{new Q("#dsytable")}),{tableData:u}}}),At=m("span",null,"\u5B9A\u635F\u5458\u5206\u6790",-1);function wt(e,n,l,u,t,r){const i=Z,d=ee,o=M;return F(),w(o,{class:"box-card",id:"dsycard"},{header:s(()=>[At]),default:s(()=>[a(d,{data:e.tableData,id:"dsytable","data-clipboard-target":"#dsycard",style:{width:"100%"},size:"small","show-summary":""},{default:s(()=>[a(i,{type:"index",label:"\u5E8F\u53F7"}),a(i,{prop:"dingsunyuan",label:"\u7C7B\u578B"}),a(i,{prop:"total",label:"\u6570\u91CF\uFF08\u4EFD\uFF09"}),a(i,{prop:"jine",label:"\u91D1\u989D"}),a(i,{prop:"totalRate",label:"\u6570\u91CF\u5360\u6BD4"}),a(i,{prop:"jineRate",label:"\u91D1\u989D\u5360\u6BD4"}),a(i,{prop:"chengJiaoTotal",label:"\u6210\u4EA4\u6570\u91CF"}),a(i,{prop:"chengJiaoJine",label:"\u6210\u4EA4\u91D1\u989D"})]),_:1},8,["data"])]),_:1})}var $t=S(xt,[["render",wt]]);const St=A({name:"DingSunYuanAnalyse",setup(){const e=N("dataList"),n=x(()=>{let l={};return e.value&&e.value.length>0?(e.value.sort((u,t)=>u.xiaoshouyuan.localeCompare(t.xiaoshouyuan)),e.value.forEach(u=>{l[u.xiaoshouyuan]?(l[u.xiaoshouyuan].total+=1,l[u.xiaoshouyuan].chengJiaoTotal+=u.isChengJiao&&1||0):l[u.xiaoshouyuan]={xiaoshouyuan:u.xiaoshouyuan,total:1,chengJiaoTotal:u.isChengJiao&&1||0}}),Object.values(l)):[]});return G(()=>{new Q("#xsytable")}),{tableData:n}}}),kt=m("span",null,"\u9500\u552E\u5458\u5206\u6790",-1);function Vt(e,n,l,u,t,r){const i=Z,d=ee,o=M;return F(),w(o,{class:"box-card",id:"xsycard"},{header:s(()=>[kt]),default:s(()=>[a(d,{data:e.tableData,id:"xsytable","data-clipboard-target":"#xsycard",style:{width:"100%"},size:"small","show-summary":""},{default:s(()=>[a(i,{type:"index",label:"\u5E8F\u53F7"}),a(i,{prop:"xiaoshouyuan",label:"\u9500\u552E\u5458"}),a(i,{prop:"total",label:"\u603B\u91CF"}),a(i,{prop:"chengJiaoTotal",label:"\u6210\u4EA4\u6570\u91CF"})]),_:1},8,["data"])]),_:1})}var Lt=S(St,[["render",Vt]]);const Tt=A({name:"NoPinPaiList",setup(){const e=N("noPinPaiList"),n=x(()=>e.value.length>0);return{noPinPaiList:e,showable:n}}}),It=e=>(ae("data-v-bf8ffa0c"),e=e(),le(),e),jt=It(()=>m("span",null,"\u65E0\u54C1\u724C\u7C7B\u578B",-1));function Nt(e,n,l,u,t,r){const i=$e,d=M;return Se((F(),w(d,{class:"box-card"},{header:s(()=>[jt]),default:s(()=>[(F(!0),v(k,null,T(e.noPinPaiList,(o,_)=>(F(),w(i,{key:_},{default:s(()=>[D(b(o.pinpai),1)]),_:2},1024))),128))]),_:1},512)),[[ke,e.showable]])}var Rt=S(Tt,[["render",Nt],["__scopeId","data-v-bf8ffa0c"]]);const Pt=A({name:"TongJi",components:{TotalAnalyse:_t,PinPaiAnalyse:Dt,DingSunYuanAnalyse:$t,XiaoShouYuanAnalyse:Lt,NoPinPaiList:Rt},setup(){const e=ot(),n=$(""),{dataList:l,totalAmount:u,chengJiaoData:t,noPinPaiDataList:r}=st(n);return W("dataList",l),W("totalAmount",u),W("chengJiaoData",t),W("noPinPaiList",r),{headTableItem:e,content:n,dataList:l,totalAmount:u,chengJiaoData:t}}}),Jt={style:{width:"100%"}};function Mt(e,n,l,u,t,r){const i=oe,d=q,o=j("no-pin-pai-list"),_=j("total-analyse"),f=j("ding-sun-yuan-analyse"),p=X,h=j("xiao-shou-yuan-analyse"),g=j("pin-pai-analyse");return F(),v(k,null,[a(d,null,{default:s(()=>[m("table",Jt,[m("tr",null,[(F(!0),v(k,null,T(e.headTableItem,(y,C)=>(F(),v("th",{key:C},b(y),1))),128))])]),a(i,{modelValue:e.content,"onUpdate:modelValue":n[0]||(n[0]=y=>e.content=y),rows:22,type:"textarea",placeholder:"\u8BF7\u590D\u5236\u6570\u636E\u81F3\u6B64"},null,8,["modelValue"])]),_:1}),a(d,null,{default:s(()=>[a(o)]),_:1}),a(d,{gutter:10},{default:s(()=>[a(p,{span:12},{default:s(()=>[a(_),a(f)]),_:1}),a(p,{span:12},{default:s(()=>[a(h),a(g)]),_:1})]),_:1})],64)}var Ot=S(Pt,[["render",Mt]]);const de=e=>(ae("data-v-23336cac"),e=e(),le(),e),Ut={class:"card-header"},zt=de(()=>m("span",{style:{color:"var(--el-color-info)"}},"\u70B9\u51FB\u53EF\u81EA\u52A8\u590D\u5236",-1)),qt=D("\u6253\u5F00\u817E\u8BAF\u6587\u6863"),Xt=de(()=>m("span",null,"\u8BA1\u7B97\u540E\u7ED3\u679C",-1)),Yt=de(()=>m("span",null,"\u7ED3\u679C",-1)),Ht=A({props:{showComputedList:Array,totalCount:[Number,String],showList:Array,region:String},setup(e){const{toClipboard:n}=Ve(),l=$("https://docs.qq.com/sheet/DS0FkVVhwd29KdHNk"),u=async t=>{try{if(t==null)return;let r=Array.isArray(t)&&t.join(`
`)||t.toString();await n(r),J({message:"\u590D\u5236\u6210\u529F",type:"success"})}catch(r){console.error(r),J.error(r.message||"\u771F\u5947\u602A\uFF0C\u4E0D\u77E5\u9053\u54EA\u91CC\u9519\u4E86\u3002")}};return(t,r)=>{const i=Le,d=X,o=q,_=M;return F(),v("div",null,[a(_,null,{header:s(()=>[m("div",Ut,[zt,a(i,{type:"primary",href:l.value,target:"_blank"},{default:s(()=>[qt]),_:1},8,["href"])])]),default:s(()=>[a(o,{gutter:10},{default:s(()=>[a(d,{span:10},{default:s(()=>[Te(t.$slots,"default",{},void 0,!0)]),_:3}),a(d,{span:14,onClick:r[0]||(r[0]=f=>u(e.totalCount))},{default:s(()=>[D(" \u603B\u8BA1\uFF1A"+b(e.totalCount),1)]),_:1})]),_:3})]),_:3}),a(o,null,{default:s(()=>[a(d,{span:16},{default:s(()=>[a(_,{onClick:r[1]||(r[1]=f=>u(e.showComputedList))},{header:s(()=>[Xt]),default:s(()=>[(F(!0),v(k,null,T(e.showComputedList,(f,p)=>(F(),v("div",{key:p},b(f),1))),128))]),_:1})]),_:1}),a(d,{span:8},{default:s(()=>[a(_,{onClick:r[2]||(r[2]=f=>u(e.showList))},{header:s(()=>[Yt]),default:s(()=>[(F(!0),v(k,null,T(e.showList,(f,p)=>(F(),v("div",{key:p},b(f),1))),128))]),_:1})]),_:1})]),_:1})])}}});var Kt=S(Ht,[["__scopeId","data-v-23336cac"]]),Gt=()=>{const e={x:0,y:0},n=H({x:0,y:0});let l=!1;return{handleMousedown:d=>{l=!0,e.x=d.clientX,e.y=d.clientY,d.preventDefault()},handleMousemove:d=>(l&&(n.x=d.clientX-e.x,n.y=d.clientY-e.y),!1),handleMouseup:d=>{l=!1},translate:n,init:()=>{n.x=0,n.y=0}}};const Wt={class:"upload-wapper"},Qt={class:"el-image"},Zt=["src"],eu={class:"tips"},tu=m("small",{style:{color:"var(--el-text-color-disabled)"}},"\u56FE\u7247\u53EF\u7F29\u653E\uFF0C\u4E5F\u53EF\u79FB\u52A8",-1),uu=D("\u56FE\u7247\u8FD8\u539F"),nu=m("div",{class:"el-upload__text"},"\u62D6\u62FD\u6216\u4E0A\u4F20\u6587\u4EF6",-1),au=A({setup(e){const n=$(),l=$(""),u=$(1),t=$(1);$(null);const{handleMousedown:r,handleMousemove:i,handleMouseup:d,translate:o,init:_}=Gt(),f=C=>{C&&C.hasOwnProperty("url")&&(l.value=C.url||"")},p=()=>{t.value=1,_()},h=()=>+new Date,g=C=>{n.value.clearFiles();const B=C[0];B.uid=h(),n.value.handleStart(B)},y=C=>{let B=.2;return C.deltaY<0?t.value<2?t.value+=B:t.value=2:C.deltaY>0&&(t.value>.4?t.value-=B:t.value=.4),!1};return(C,B)=>{const E=fe,L=Fe;return F(),v("div",Wt,[m("div",Qt,[m("img",{src:l.value,onWheel:y,onMousemove:B[0]||(B[0]=(...R)=>c(i)&&c(i)(...R)),onMousedown:B[1]||(B[1]=(...R)=>c(r)&&c(r)(...R)),onMouseup:B[2]||(B[2]=(...R)=>c(d)&&c(d)(...R)),style:ge({transform:"scale("+t.value+") translate("+c(o).x+"px, "+c(o).y+"px)","object-fit":"contain"}),class:"el-image__inner"},null,44,Zt)]),m("p",eu,[tu,m("span",{onClick:p},[uu,a(E,null,{default:s(()=>[a(c(Ie))]),_:1})])]),a(L,{action:"#",drag:"",ref_key:"upload",ref:n,"auto-upload":!1,limit:u.value,"list-type":"picture","on-change":f,"on-exceed":g},{default:s(()=>[a(E,{class:"el-icon--upload"},{default:s(()=>[a(c(je))]),_:1}),nu]),_:1},8,["limit"])])}}});const lu=D("\u5730\u533A"),ou=m("legend",null,"\u5206\u9694\u7B26\uFF1A",-1),ru=A({setup(e){const n=$(""),l=$(["\u8BF7\u5728\u6B64\u8F93\u5165\u8F93\u5165","\u4E00\u884C\u4E00\u7EC4","\u4EE5\u7A7A\u683C\u76F8\u683C","\u4F8B\u5982\uFF1A","123 32 23 3","56 65 45 3","234 42 34 6"].join(`
`)),u={SPACE:{label:"\u7A7A\u683C",value:" "},X:{label:"X;",value:"X"}},t=$(""),r=$(u.SPACE.value);function i(p,h){if(h==u.SPACE.value)return p.trim().split(h);if(h==u.X.value){let g=p.trim().split(h),y=g[2].split(";");return[g[0],g[1],y[0],y[1]]}}let d=x(()=>{let p=n.value.trim();if(!p)return[];let h=p.split(`
`);return!h||h.length==0?[]:(h[0].includes(u.X.value)?r.value=u.X.value:r.value=u.SPACE.value,h.map(g=>{let y=i(g,r.value);return{len:y[0],width:y[1],height:y[2],count:y[3]}}))}),o=x(()=>d.value.map(p=>p.len+"X"+p.width+"X"+p.height+";"+p.count)),_=x(()=>d.value.map(p=>p.len+"X"+p.width+"X"+p.height+"X"+p.count+"="+p.len*p.width*p.height*p.count)),f=x(()=>{let p=0;return d.value.forEach(h=>{p+=h.len*h.width*h.height*h.count}),p});return(p,h)=>{const g=oe,y=X,C=Ee,B=re,E=q;return F(),w(E,{gutter:20},{default:s(()=>[a(y,{span:10},{default:s(()=>[a(Kt,{"total-count":c(f),"show-computed-list":c(_),"show-list":c(o),region:t.value},{default:s(()=>[a(g,{modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=L=>t.value=L),placeholder:"\u8BF7\u8F93\u5165\u5730\u533A"},{prepend:s(()=>[lu]),_:1},8,["modelValue"])]),_:1},8,["total-count","show-computed-list","show-list","region"])]),_:1}),a(y,{span:4},{default:s(()=>[m("fieldset",null,[ou,a(B,{modelValue:r.value,"onUpdate:modelValue":h[1]||(h[1]=L=>r.value=L)},{default:s(()=>[(F(),v(k,null,T(u,L=>a(C,{label:L.value,size:"small",border:""},{default:s(()=>[D(b(L.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),a(g,{modelValue:n.value,"onUpdate:modelValue":h[2]||(h[2]=L=>n.value=L),rows:20,type:"textarea",placeholder:l.value,style:{"font-size":"large"}},null,8,["modelValue","placeholder"])]),_:1}),a(y,{span:10},{default:s(()=>[a(au)]),_:1})]),_:1})}}}),su=A({setup(e){const n=se();Ne();const l=n.getRoutes().filter(u=>!u.meta.menuHidden);return(u,t)=>{const r=j("router-link");return F(!0),v(k,null,T(c(l),i=>(F(),w(r,{to:i.path,key:i.path,class:"link"},{default:s(()=>[D(b(i.meta.title),1)]),_:2},1032,["to"]))),128)}}});var iu="/sn-tools/img/logo-gitee-g.svg";const du={},cu={style:{float:"right",cursor:"pointer"},href:"https://gitee.com/hzsn-csh/sn-tools",target:"_blank"},pu=m("img",{alt:"Gitee",src:iu,title:"Gitee \u2014 \u57FA\u4E8E Git \u7684\u4EE3\u7801\u6258\u7BA1\u548C\u7814\u53D1\u534F\u4F5C\u5E73\u53F0",style:{height:"36px","margin-top":"12px"}},null,-1),_u=[pu];function mu(e,n){return F(),v("a",cu,_u)}var hu=S(du,[["render",mu]]);const fu={},Fu=D("\u5C0F\u5DE5\u5177");function gu(e,n){const l=hu,u=Re,t=su,r=Pe,i=j("router-view"),d=Je,o=Me;return F(),w(o,null,{default:s(()=>[a(u,null,{default:s(()=>[Fu,a(l)]),_:1}),a(o,null,{default:s(()=>[a(r,{width:"200px"},{default:s(()=>[a(t)]),_:1}),a(d,null,{default:s(()=>[a(i)]),_:1})]),_:1})]),_:1})}var Eu=S(fu,[["render",gu]]);const bu={},Du=D("\u4F53\u79EF\u8BA1\u7B97"),vu=D("\u4F53\u79EF\u8BA1\u7B97"),yu=D("\u54C1\u724C\u7EDF\u8BA1"),Cu=D("\u54C1\u724C\u7EDF\u8BA1"),Bu=D("\u9F0E\u80FD\u9762\u5355"),xu=D("\u9F0E\u80FD\u9762\u5355");function Au(e,n){const l=j("router-link"),u=M,t=X,r=q;return F(),w(r,{gutter:20},{default:s(()=>[a(t,{span:6},{default:s(()=>[a(u,null,{header:s(()=>[Du]),default:s(()=>[a(l,{to:"/volume"},{default:s(()=>[vu]),_:1})]),_:1})]),_:1}),a(t,{span:6},{default:s(()=>[a(u,null,{header:s(()=>[yu]),default:s(()=>[a(l,{to:"/tongji"},{default:s(()=>[Cu]),_:1})]),_:1})]),_:1}),a(t,{span:6},{default:s(()=>[a(u,null,{header:s(()=>[Bu]),default:s(()=>[a(l,{to:"/dingnengorder"},{default:s(()=>[xu]),_:1})]),_:1})]),_:1})]),_:1})}var wu=S(bu,[["render",Au]]);const $u={},Su=D("\u56DE\u9996\u9875");function ku(e,n){const l=te,u=j("router-link"),t=Oe;return F(),w(t,{icon:"error",title:"404","sub-title":"not found"},{extra:s(()=>[a(u,{to:"/"},{default:s(()=>[a(l,{type:"primary"},{default:s(()=>[Su]),_:1})]),_:1})]),_:1})}var Vu=S($u,[["render",ku]]),Lu={sender:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u8D27\u4EBA",trigger:"blur"}],sender_phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u8D27\u4EBA\u7535\u8BDD",trigger:"blur"}],recipient_company:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u5355\u4F4D",trigger:"blur"}],recipient:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA",trigger:"blur"}],recipient_phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA\u7535\u8BDD",trigger:"blur"}],address:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u5730\u5740",trigger:"blur"}],send_time:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u8FD0\u65F6\u95F4",trigger:"change"}],recipient_time:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u65F6\u95F4",trigger:"change"}],total_volume:[{type:"number",required:!0,message:"\u8BF7\u8F93\u5165\u603B\u4F53\u79EF\uFF0C\u6570\u5B57\u7C7B\u578B",trigger:"blur"}],total_weight:[{type:"number",required:!0,message:"\u8BF7\u8F93\u5165\u603B\u91CD\u91CF\uFF0C\u6570\u5B57\u7C7B\u578B",trigger:"blur"}],delivery_user:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u8D27\u4EBA",trigger:"blur"}],remark:[]};const Tu=[{key:"zhixiang",value:0,text:"\u7EB8\u7BB1"},{key:"muxiang",value:0,text:"\u6728\u7BB1"},{key:"tiejian",value:0,text:"\u94C1\u4EF6"},{key:"qita",value:0,text:"\u5176\u4ED6"}],Iu=()=>Object.assign([],Tu),Be=ie("dingnengOrder",{state:()=>({dn_order_id:"",sender:"",sender_phone:"",recipient_company:"",recipient:"",recipient_phone:"",address:"",goodsList:[],send_time:0,recipient_time:0,total_volume:0,total_weight:0,delivery_user:"",remark:""}),getters:{total_count:e=>{let n=0;return e.goodsList.forEach(l=>{n+=l.value}),n}},actions:{createDNOrderId(){return"DN"+new Date().getTime()+Math.floor(Math.random()*1e3)},getGoodsList(){return Iu().map(e=>(e.value=0,e))},getFromStorage(){return{sender:localStorage.getItem("sender")||"",sender_phone:localStorage.getItem("sender_phone")||"",delivery_user:localStorage.getItem("delivery_user")||""}},saveToStorage(){localStorage.setItem("sender",this.sender),localStorage.setItem("sender_phone",this.sender_phone),localStorage.setItem("delivery_user",this.delivery_user)},init(){this.$reset(),this.goodsList=this.getGoodsList(),this.dn_order_id=this.createDNOrderId();let e=this.getFromStorage();this.sender=e.sender,this.sender_phone=e.sender_phone,this.delivery_user=e.delivery_user,this.send_time=+new Date,this.recipient_time=+new Date}}}),ju={style:{width:"600px",margin:"auto"}},Nu=m("h3",{style:{"text-align":"center",color:"var(--el-text-color-primary)"}},"\u521B\u5EFA\u9762\u5355",-1),Ru=D("m\xB3"),Pu=D("KG"),Ju=D("\u6253\u5370"),Mu=D("\u91CD\u7F6E"),Ou=A({setup(e){const n=$(),l=Be();l.init();const u=l.$state,t=se(),r=async()=>{!n||await n.value.validate(d=>{!d||(l.saveToStorage(),t.push({name:"dingnengOrderPrint"}))})},i=()=>{!n||l.init()};return(d,o)=>{const _=oe,f=be,p=X,h=q,g=De,y=ve,C=te,B=ye;return F(),v("div",ju,[Nu,a(B,{ref_key:"elFormRef",ref:n,model:c(u),rules:c(Lu),"label-width":"100px"},{default:s(()=>[a(h,null,{default:s(()=>[a(p,{span:12},{default:s(()=>[a(f,{label:"\u53D1\u8D27\u4EBA",prop:"sender"},{default:s(()=>[a(_,{modelValue:c(u).sender,"onUpdate:modelValue":o[0]||(o[0]=E=>c(u).sender=E),placeholder:"\u8BF7\u8F93\u5165\u53D1\u8D27\u4EBA",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),a(p,{span:12},{default:s(()=>[a(f,{label:"\u53D1\u8D27\u4EBA\u7535\u8BDD",prop:"sender_phone"},{default:s(()=>[a(_,{modelValue:c(u).sender_phone,"onUpdate:modelValue":o[1]||(o[1]=E=>c(u).sender_phone=E),placeholder:"\u8BF7\u8F93\u5165\u53D1\u8D27\u4EBA\u7535\u8BDD",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(f,{label:"\u6536\u8D27\u5355\u4F4D",prop:"recipient_company"},{default:s(()=>[a(_,{modelValue:c(u).recipient_company,"onUpdate:modelValue":o[2]||(o[2]=E=>c(u).recipient_company=E),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u5355\u4F4D",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(h,null,{default:s(()=>[a(p,{span:12},{default:s(()=>[a(f,{label:"\u6536\u8D27\u4EBA",prop:"recipient"},{default:s(()=>[a(_,{modelValue:c(u).recipient,"onUpdate:modelValue":o[3]||(o[3]=E=>c(u).recipient=E),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),a(p,{span:12},{default:s(()=>[a(f,{label:"\u6536\u8D27\u4EBA\u7535\u8BDD",prop:"recipient_phone"},{default:s(()=>[a(_,{modelValue:c(u).recipient_phone,"onUpdate:modelValue":o[4]||(o[4]=E=>c(u).recipient_phone=E),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA\u7535\u8BDD",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(f,{label:"\u6536\u8D27\u5730\u5740",prop:"address"},{default:s(()=>[a(_,{modelValue:c(u).address,"onUpdate:modelValue":o[5]||(o[5]=E=>c(u).address=E),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u5730\u5740",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(h,null,{default:s(()=>[(F(!0),v(k,null,T(c(u).goodsList,(E,L)=>(F(),w(p,{span:12,key:E.key},{default:s(()=>[a(f,{label:E.text},{default:s(()=>[a(g,{modelValue:E.value,"onUpdate:modelValue":R=>E.value=R,placeholder:"\u8BF7\u8F93\u5165"+E.text,step:1,max:1e3},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label"])]),_:2},1024))),128))]),_:1}),a(h,null,{default:s(()=>[a(p,{span:12},{default:s(()=>[a(f,{label:"\u53D1\u8FD0\u65F6\u95F4",prop:"send_time"},{default:s(()=>[a(y,{type:"datetime",modelValue:c(u).send_time,"onUpdate:modelValue":o[6]||(o[6]=E=>c(u).send_time=E),placeholder:"\u8BF7\u8F93\u5165\u53D1\u8FD0\u65F6\u95F4",clearable:"","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1}),a(p,{span:12},{default:s(()=>[a(f,{label:"\u6536\u8D27\u65F6\u95F4",prop:"recipient_time"},{default:s(()=>[a(y,{type:"datetime",modelValue:c(u).recipient_time,"onUpdate:modelValue":o[7]||(o[7]=E=>c(u).recipient_time=E),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u65F6\u95F4",clearable:"","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(h,null,{default:s(()=>[a(p,{span:12},{default:s(()=>[a(f,{label:"\u603B\u4F53\u79EF",prop:"total_volume"},{default:s(()=>[a(_,{modelValue:c(u).total_volume,"onUpdate:modelValue":o[8]||(o[8]=E=>c(u).total_volume=E),modelModifiers:{number:!0},placeholder:"\u8BF7\u8F93\u5165\u603B\u4F53\u79EF",clearable:"",style:{width:"100%"}},{append:s(()=>[Ru]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(p,{span:12},{default:s(()=>[a(f,{label:"\u603B\u91CD\u91CF",prop:"total_weight"},{default:s(()=>[a(_,{modelValue:c(u).total_weight,"onUpdate:modelValue":o[9]||(o[9]=E=>c(u).total_weight=E),modelModifiers:{number:!0},placeholder:"\u8BF7\u8F93\u5165\u603B\u91CD\u91CF",clearable:""},{append:s(()=>[Pu]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(f,{label:"\u63D0\u8D27\u4EBA",prop:"delivery_user"},{default:s(()=>[a(_,{modelValue:c(u).delivery_user,"onUpdate:modelValue":o[10]||(o[10]=E=>c(u).delivery_user=E),placeholder:"\u8BF7\u8F93\u5165\u63D0\u8D27\u4EBA",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(f,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[a(_,{modelValue:c(u).remark,"onUpdate:modelValue":o[11]||(o[11]=E=>c(u).remark=E),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",autosize:{minRows:4,maxRows:4},style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(f,{size:"large"},{default:s(()=>[a(C,{type:"primary",onClick:r},{default:s(()=>[Ju]),_:1}),a(C,{onClick:i},{default:s(()=>[Mu]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});var Uu="/sn-tools/img/dingneng.png";const zu=ie("dingnengSettings",()=>{const e="printFontSize",n=()=>{const r=localStorage.getItem(e);return console.log("getFromStorage",r),r==null||r==null?1:parseFloat(r)},l=n(),u=$(l);return{fontSize:u,getFromStorage:n,saveToStorage:()=>{localStorage.setItem(e,""+u.value)}}}),qu=A({props:{code:{type:String,required:!0}},setup(e){const{code:n}=e,l=$(null);G(()=>{l.value&&u(l.value,n)});const u=(t,r)=>{Ue(t,r,{displayValue:!1,height:60})};return(t,r)=>(F(),v("svg",{ref_key:"barcodeRef",ref:l},null,512))}});const ue=e=>(ae("data-v-d893585c"),e=e(),le(),e),Xu=ue(()=>m("div",{class:"order-header"},[m("img",{height:"40",width:"40",src:Uu}),m("span",null,"\u676D\u5DDE\u9F0E\u80FD\u4F9B\u5E94\u94FE\u53D1\u8FD0\u5355")],-1)),Yu={style:{margin:"10px 0 0 0"}},Hu={style:{"text-align":"center"}},Ku={colspan:"3"},Gu={colspan:"2"},Wu={colspan:"5"},Qu={colspan:"3"},Zu={colspan:"2"},en={colspan:"5"},tn=ue(()=>m("tr",null,[m("td",{colspan:"5",style:{"text-align":"center",padding:"10px 0px","font-size":"1.12em"}}," \u8D27\u7269\u8BE6\u60C5 ")],-1)),un=ue(()=>m("td",{style:{"text-align":"center"}},"\u5408\u8BA1",-1)),nn={style:{"text-align":"center"}},an={colspan:"3"},ln={colspan:"2"},on={colspan:"5"},rn={colspan:"3"},sn=ue(()=>m("td",{colspan:"2"},"\u7B7E\u6536\u4EBA\uFF1A",-1)),dn={colspan:"5"},cn={style:{border:"none"}},pn={colspan:"5"},_n={class:"other-wapper"},mn={class:"print-btn-wapper"},hn={class:"print-btn-wapper"},fn=D("\u6253\u5370"),Fn={class:"print-btn-wapper"},gn=D("\u8FD4\u56DE"),En=A({setup(e){const n=se(),l=Be(),u=zu(),t=l.$state,r=$(!1),{fontSize:i}=Y(u),d=h=>{u.saveToStorage()},o=x(()=>{let h=new Date(t.send_time);return h.getFullYear()+"\u5E74"+(h.getMonth()+1)+"\u6708"+h.getDate()+"\u65E5"}),_=x(()=>{let h=new Date(t.recipient_time);return h.getFullYear()+"\u5E74"+(h.getMonth()+1)+"\u6708"+h.getDate()+"\u65E5"}),f=()=>{r.value=!0,n.back()},p=()=>{window.print()};return(h,g)=>{const y=De,C=te;return F(),v(k,null,[m("div",{class:"order-wapper print",style:ge({fontSize:c(i)+"em"})},[Xu,m("p",Yu,"\u8FD0\u5355\u53F7\uFF1A"+b(c(t).dn_order_id),1),m("div",Hu,[a(qu,{code:c(t).dn_order_id},null,8,["code"])]),m("table",null,[m("tbody",null,[m("tr",null,[m("td",Ku,"\u53D1\u8D27\u4EBA\uFF1A"+b(c(t).sender),1),m("td",Gu,"\u7535\u8BDD\uFF1A"+b(c(t).sender_phone),1)]),m("tr",null,[m("td",Wu,"\u6536\u8D27\u5355\u4F4D\uFF1A"+b(c(t).recipient_company),1)]),m("tr",null,[m("td",Qu,"\u6536\u8D27\u4EBA\uFF1A"+b(c(t).recipient),1),m("td",Zu,"\u7535\u8BDD\uFF1A"+b(c(t).recipient_phone),1)]),m("tr",null,[m("td",en,"\u6536\u8D27\u5730\u5740\uFF1A"+b(c(t).address),1)]),tn,m("tr",null,[(F(!0),v(k,null,T(c(t).goodsList,B=>(F(),v("td",{class:"border-right",key:B.key},b(B.text),1))),128)),un]),m("tr",null,[(F(!0),v(k,null,T(c(t).goodsList,B=>(F(),v("td",{class:"border-right",key:B.key},b(B.value),1))),128)),m("td",nn,b(c(l).total_count),1)]),m("tr",null,[m("td",an,"\u4F53\u79EF\uFF1A"+b(c(t).total_volume)+" m\xB3",1),m("td",ln,"\u91CD\u91CF\uFF1A"+b(c(t).total_weight)+" KG",1)]),m("tr",null,[m("td",on,"\u53D1\u8FD0\u65F6\u95F4\uFF1A"+b(c(o)),1)]),m("tr",null,[m("td",rn,"\u63D0\u8D27\u4EBA\uFF1A"+b(c(t).delivery_user),1),sn]),m("tr",null,[m("td",dn,"\u65E5\u671F\uFF1A"+b(c(_)),1)]),m("tr",cn,[m("td",pn,"\u5907\u6CE8\uFF1A"+b(c(t).remark),1)])])])],4),m("div",_n,[m("div",mn,[a(y,{modelValue:c(i),"onUpdate:modelValue":g[0]||(g[0]=B=>z(i)?i.value=B:null),precision:2,step:.1,min:1,max:2,onChange:d,style:{width:"200px","margin-left":"74px"}},null,8,["modelValue","step"])]),m("div",hn,[a(C,{type:"primary",class:"print-btn",onClick:p},{default:s(()=>[fn]),_:1})]),m("div",Fn,[a(C,{onClick:f,loading:r.value},{default:s(()=>[gn]),_:1},8,["loading"])])])],64)}}});var bn=S(En,[["__scopeId","data-v-d893585c"]]);function U(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e))+e}function P(e){return e<10&&"0"+e||e}function Dn(e,n){let l=U(0,n);for(let u=0;u<e.length;u++)if(l-=e[u],l<=0)return u;return 0}function vn(e){var n={SheetNames:Object.keys(e),Sheets:{}};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const d=e[i];n.Sheets[i]=d}var l={bookType:"xlsx",bookSST:!1,type:"binary"},u=qe(n,l),t=new Blob([r(u)],{type:"application/octet-stream"});function r(i){for(var d=new ArrayBuffer(i.length),o=new Uint8Array(d),_=0;_!=i.length;++_)o[_]=i.charCodeAt(_)&255;return d}return t}function yn(e,n){let l="";typeof e=="object"&&e instanceof Blob&&(l=URL.createObjectURL(e));var u=document.createElement("a");u.href=l,u.download=n||"";var t;window.MouseEvent?t=new MouseEvent("click"):(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null)),u.dispatchEvent(t),u.remove()}const Cn=(e,n)=>{let l=new Date,u=P(l.getMonth()+1)+""+P(l.getDate()),t={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];t[r]=Ce.json_to_sheet(i)}yn(vn(t),u+"-"+n)},Bn=e=>new Promise((n,l)=>{let u=new FileReader;u.onload=t=>{var r;try{n(ze((r=t.target)==null?void 0:r.result))}catch(i){l(i)}},u.readAsArrayBuffer(e)}),_e=(e,n)=>{let l=e.Sheets[e.SheetNames[n]];return Ce.sheet_to_json(l)},me="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";var xn=e=>({valiteFile:(u,t)=>{let r=u.raw;if(r){if(r.type==me)return!0;J({type:"warning",message:"\u9644\u4EF6\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u65B0\u4E0A\u4F20\uFF01"})}else J({type:"warning",message:"\u8BF7\u4E0A\u4F20\u9644\u4EF6\uFF01"});return!1},handleExceed:u=>{e.value.clearFiles();const t=u[0];t.uid=Date.now(),e.value.handleStart(t)},acceptType:me});const An=m("div",{class:"el-upload__text"},[D(" Drop file here or "),m("em",null,"click to upload")],-1),wn=A({emits:["change"],setup(e,{emit:n}){const l=$(),{valiteFile:u,handleExceed:t,acceptType:r}=xn(l),i=(d,o)=>{u(d,o)&&d.raw&&n("change",d.raw)};return(d,o)=>{const _=fe;return F(),w(c(Fe),{drag:"",ref_key:"uploadRef",ref:l,action:"","on-change":i,"on-exceed":c(t),limit:1,accept:c(r),"auto-upload":!1},{default:s(()=>[a(_,{class:"el-icon--upload"},{default:s(()=>[a(c(Xe))]),_:1}),An]),_:1},8,["on-exceed","accept"])}}}),$n=57,Sn=38,V=[{id:$n,text:"\u9646\u653E",label:"kluger"},{id:Sn,text:"\u8363\u653E",label:"rav4"}],K={index:-1,label:"\u5168\u90E8"},I={city:"\u57CE\u5E02",username:"\u59D3\u540D",phone:"\u7535\u8BDD",seriesId:"\u8F66\u7CFB\u4EE3\u7801",dealerId:"\u7ECF\u9500\u5546\u7F16\u7801",dealerName:"\u7ECF\u9500\u5546\u540D\u79F0",orderAt:"\u65F6\u95F4"},ne={hour:[9,10,11,12,13,14,15,16,17,18,19,20,21,22],weight:[15,19,14,8,10,17,16,12,10,5,3,3,2,2]},kn=(()=>ne.weight.reduce((e,n)=>e+n))(),O=ie("ftmsStore",()=>{let e=new Date;const n=H([new Date(e.getFullYear(),e.getMonth(),e.getDate()-1,18),new Date(e.getFullYear(),e.getMonth(),e.getDate(),17,59,59)]),l=H({data:{id:0,text:"\u6570\u636E"},seriesData:{id:1,text:"\u8F66\u7CFB\u8D44\u6599"}});function u(o){return o.label+o.id}function t(o){let _=localStorage.getItem(u(o));return _&&JSON.parse(_)||[]}const r=H({[V[0].label]:t(V[0]),[V[1].label]:t(V[1])});function i(o,_){localStorage.setItem(u(_),JSON.stringify(o)),r[_.label]=o}function d(o){return r[o.label].length>0}return{dateTime:n,uploadTypeRadioKeyList:l,seriesList:r,saveSeries:i,hasSeriesData:d}});const Vn={class:"title"},Ln=A({props:{text:{type:String,default:"\u9879"}},setup(e){return(n,l)=>(F(),v("span",Vn,b(e.text),1))}});var xe=S(Ln,[["__scopeId","data-v-0232ad94"]]);const Tn={style:{"margin-bottom":"20px"}},In=A({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:n}){const{uploadTypeRadioKeyList:l}=O(),u=t=>{n("update:modelValue",t)};return(t,r)=>{const i=Ye,d=re;return F(),v("div",Tn,[a(xe,{text:"\u6570\u636E\u7C7B\u578B"}),a(d,{modelValue:e.modelValue,"onUpdate:modelValue":r[0]||(r[0]=o=>z(modelValue)?modelValue.value=o:null),onChange:u},{default:s(()=>[(F(!0),v(k,null,T(c(l),o=>(F(),w(i,{label:o.id,border:""},{default:s(()=>[D(b(o.text),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])])}}});var jn=S(In,[["__scopeId","data-v-768cdf62"]]);const Nn=A({setup(e){const{dateTime:n}=Y(O());return(l,u)=>{const t=ve,r=be,i=ye;return F(),w(i,{inline:!0,class:"demo-form-inline"},{default:s(()=>[a(r,{label:"\u65F6\u95F4\u8303\u56F4"},{default:s(()=>[a(t,{modelValue:c(n),"onUpdate:modelValue":u[0]||(u[0]=d=>z(n)?n.value=d:null),type:"datetimerange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},null,8,["modelValue"])]),_:1})]),_:1})}}});function Rn(e,n){e.forEach(l=>{let u=U(0,n[l.city].length),t=n[l.city][u];l.dealerId=t.dealerId,l.dealerName=t.name})}function Pn(){const{dateTime:e}=O();let n=Dn(ne.weight,kn),l=ne.hour[n],u=new Date(U(e[0].getTime(),e[1].getTime()));for(;u.getHours()!=l;)u=new Date(U(e[0].getTime(),e[1].getTime()));let t=u.getFullYear(),r=u.getMonth()+1,i=u.getDate(),d=P(U(0,60)),o=P(U(0,60));return t+"-"+P(r)+"-"+P(i)+" "+P(l)+":"+d+":"+o}function Jn(e){e.forEach(n=>{n.orderAt=Pn()})}function he(e,n){let l=V.filter(u=>e.includes(u.text));if(l.length>0||(l=V.filter(u=>n.includes(u.text)),l.length>0))return l[0];throw new Error("\u6CA1\u6709\u4ECE\u6587\u4EF6\u540D\u6216sheet name \u4E2D\u627E\u5230\u8F66\u7CFB\u540D\u79F0")}var Mn=(e,n)=>{const{seriesList:l}=Y(O());let u=l.value[n.label],t=e.map(d=>({city:d[I.city],username:d[I.username],phone:d[I.phone],seriesId:n.id})),r=new Set;t.forEach(d=>r.add(d.city));let i={};return r.forEach(d=>{i[d]=u.filter(o=>o.city==d)}),Rn(t,i),Jn(t),t.map(d=>{let o={};return o[I.city]=d.city,o[I.username]=d.username,o[I.phone]=d.phone,o[I.dealerId]=d.dealerId,o[I.dealerName]=d.dealerName,o[I.seriesId]=d.seriesId,o[I.orderAt]=d.orderAt,o})},On=()=>{const e=O(),{uploadTypeRadioKeyList:n}=Y(e),l=$(n.value.data.id),u=$(),t=o=>{const{sheetObject:_,fileName:f,uploadType:p}=o;if(p.value==n.value.data.id){let h={};for(const g in _)if(Object.prototype.hasOwnProperty.call(_,g)){const y=_[g];let C=he(g,f);if(!e.hasSeriesData(C))throw new Error(`\u6CA1\u6709\u8BE5\u8F66\u7CFB\u7684\u6570\u636E\uFF1A${C.text} \u8BF7\u5148\u4E0A\u4F20${C.text}\u7684\u6570\u636E`);h[g]=Mn(y,C)}Cn(h,f)}else if(p.value==n.value.seriesData.id){for(const h in _)if(Object.prototype.hasOwnProperty.call(_,h)){const g=_[h];let y=he(h,f);e.saveSeries(g,y),J.success(`\u5DF2\u6DFB\u52A0${h}${g.length}\u6761\u6570\u636E`)}}else throw new Error("\u7C7B\u578B\u9519\u8BEF")},r=H({visible:!1,sheetNames:[],sheetIndex:K.index,fileName:""});return He(()=>r.fileName,()=>r.sheetIndex=K.index),{workBook:u,sheetDialogConfig:r,openSheetDialog:(o,_)=>{r.sheetNames=_,r.visible=!0,r.fileName=o},uploadType:l,handleSheetSelect:o=>{if(!u.value)return;let _={};if(o==K.index){let f=u.value.SheetNames;for(let p=0;p<f.length;p++)_[f[p]]=_e(u.value,p)}else _[u.value.SheetNames[o]]=_e(u.value,o);try{t({sheetObject:_,fileName:r.fileName,uploadType:l})}catch(f){console.error(f),J.error(f.message)}finally{u.value=void 0}}}};const Un=A({setup(e){const{seriesList:n}=Y(O()),l=$(!1),u=x(()=>{let r=n.value[V[0].label].length==0;return{title:`${V[0].text} \u6570\u636E\u4E0D\u5B58\u5728`,show:r}}),t=x(()=>{let r=n.value[V[1].label].length==0;return{title:`${V[1].text} \u6570\u636E\u4E0D\u5B58\u5728`,show:r}});return(r,i)=>(F(),v(k,null,[c(u).show?(F(),w(c(ce),{key:0,title:c(u).title,type:"error",closable:l.value},null,8,["title","closable"])):pe("",!0),c(t).show?(F(),w(c(ce),{key:1,title:c(t).title,type:"error",closable:l.value},null,8,["title","closable"])):pe("",!0)],64))}});var zn=S(Un,[["__scopeId","data-v-0bb6ce8f"]]);const qn=A({setup(e){const{seriesList:n}=Y(O()),l=x(()=>({label:V[0].text,desc:`${n.value[V[0].label].length}\u6761`})),u=x(()=>({label:V[1].text,desc:`${n.value[V[1].label].length}\u6761`}));return(t,r)=>{const i=Ke,d=Ge;return F(),w(d,{border:"",title:"\u8F66\u7CFB\u8D44\u6599"},{default:s(()=>[a(i,{"label-align":"right",align:"center",label:c(l).label},{default:s(()=>[D(b(c(l).desc),1)]),_:1},8,["label"]),a(i,{"label-align":"right",align:"center",label:c(u).label},{default:s(()=>[D(b(c(u).desc),1)]),_:1},8,["label"])]),_:1})}}}),Xn={class:"dialog-footer"},Yn=D("\u53D6\u6D88"),Hn=D(" \u786E\u5B9A "),Kn=A({props:{sheetIndex:{type:Number,default:K.index},visible:{type:Boolean,default:!1},fileName:{type:String},sheetNames:{type:Array,default:[]}},emits:["update:sheetIndex","update:visible","select"],setup(e,{emit:n}){const l=e,u=x({get(){return[K,...l.sheetNames.map((o,_)=>({index:_,label:o}))]},set(d){console.log(d)}}),t=x({get(){return l.visible},set(d){n("update:visible",d)}}),r=d=>{n("update:sheetIndex",d)},i=()=>{t.value=!1,n("select",l.sheetIndex)};return(d,o)=>{const _=Ee,f=re,p=te,h=We;return F(),w(h,{modelValue:c(t),"onUpdate:modelValue":o[2]||(o[2]=g=>z(t)?t.value=g:null),title:"\u9009\u62E9Sheet"},{footer:s(()=>[m("span",Xn,[a(p,{onClick:o[1]||(o[1]=g=>t.value=!1)},{default:s(()=>[Yn]),_:1}),a(p,{type:"primary",onClick:i},{default:s(()=>[Hn]),_:1})])]),default:s(()=>[m("p",null,b(e.fileName),1),a(xe,{text:"Sheet"}),a(f,{modelValue:e.sheetIndex,"onUpdate:modelValue":o[0]||(o[0]=g=>z(sheetIndex)?sheetIndex.value=g:null),onChange:r},{default:s(()=>[(F(!0),v(k,null,T(c(u),g=>(F(),w(_,{label:g.index,border:""},{default:s(()=>[D(b(g.label),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),Gn=m("h2",{style:{"text-align":"center"}},"2023\u5E741\u6708\u4EFD\u7559\u8D44\u6570\u636E\u683C\u5F0F\u5316",-1),Wn=A({setup(e){const{uploadType:n,sheetDialogConfig:l,openSheetDialog:u,workBook:t,handleSheetSelect:r}=On(),i=d=>{Bn(d).then(o=>{let _=o;t.value=_,u(d.name,t.value.SheetNames)}).catch(o=>{t.value=void 0,J.error(o.message),console.error(o)})};return(d,o)=>{const _=X,f=q;return F(),v(k,null,[Gn,a(zn),a(f,{gutter:20},{default:s(()=>[a(_,{span:12},{default:s(()=>[a(Nn),a(qn)]),_:1}),a(_,{span:12},{default:s(()=>[a(jn,{modelValue:c(n),"onUpdate:modelValue":o[0]||(o[0]=p=>z(n)?n.value=p:null)},null,8,["modelValue"]),a(wn,{onChange:i})]),_:1})]),_:1}),a(Kn,{sheetIndex:c(l).sheetIndex,"onUpdate:sheetIndex":o[1]||(o[1]=p=>c(l).sheetIndex=p),visible:c(l).visible,"onUpdate:visible":o[2]||(o[2]=p=>c(l).visible=p),"sheet-names":c(l).sheetNames,onSelect:c(r),"file-name":c(l).fileName},null,8,["sheetIndex","visible","sheet-names","onSelect","file-name"])],64)}}}),Qn=[{path:"/",name:"index",component:Eu,meta:{menuHidden:!0},children:[{path:"/",name:"dashboard",component:wu,meta:{title:"\u9996\u9875"}},{path:"/volume",name:"volume",component:ru,meta:{title:"\u4F53\u79EF\u8BA1\u7B97"}},{path:"/tongji",name:"tongji",component:Ot,meta:{title:"\u54C1\u724C\u7EDF\u8BA1"}},{path:"/ftms",name:"ftms",component:Wn,meta:{title:"\u7559\u8D44\u6570\u636E\u683C\u5F0F\u5316"}},{path:"dingnengorder",name:"dingnengOrder",redirect:"/dingnengorder/create",meta:{title:"\u9F0E\u80FD\u9762\u5355"},children:[{path:"create",name:"dingnengOrderCreate",component:Ou,meta:{menuHidden:!0}}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:Vu,meta:{menuHidden:!0}}]},{path:"/dingnengorder/print",name:"dingnengOrderPrint",component:bn,meta:{menuHidden:!0}}],Zn=Qe({history:Ze(),routes:Qn});const ea=et();tt(lt).use(Zn).use(ea).mount("#app");
