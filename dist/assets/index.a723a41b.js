import{d as x,z as Be,E as Ae,c as A,w as r,r as j,o as F,a,b as B,i as P,e as Y,C as Q,f as Z,g as ee,h as J,j as p,k as xe,l as we,v as $e,m as v,n as I,F as V,p as ne,q as ae,s as E,t as D,u as $,x as G,y as le,A as H,B as K,D as Se,G as Ve,H as ke,I as O,J as X,K as me,L as he,M as c,N as fe,O as Le,P as Ie,Q as oe,R as re,S as se,T as Te,U as je,V as Pe,W as Re,X as Ne,Y as te,Z as Je,_ as ie,$ as Fe,a0 as ge,a1 as Ee,a2 as De,a3 as Me,a4 as q,a5 as z,a6 as be,a7 as Ue,a8 as Oe,a9 as ze,aa as ce,ab as pe,ac as qe,ad as Xe,ae as Ye,af as He,ag as Ke,ah as Ge,ai as We}from"./vendor.81ee5e16.js";const Qe=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function l(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(t){if(t.ep)return;t.ep=!0;const s=l(t);fetch(t.href,s)}};Qe();var k=(e,n)=>{const l=e.__vccOpts||e;for(const[u,t]of n)l[u]=t;return l};const Ze=x({name:"App",setup(){return{zIndex:3e3,locale:Be}}});function et(e,n,l,u,t,s){const d=j("router-view"),i=Ae;return F(),A(i,{locale:e.locale,"z-index":e.zIndex},{default:r(()=>[a(d)]),_:1},8,["locale","z-index"])}var tt=k(Ze,[["render",et]]),ut=()=>({date:"\u65E5\u671F",dingsunyuan:"\u5B9A\u635F\u5458",xiaoshouyuan:"\u9500\u552E\u5458",chepai:"\u8F66\u724C",pinpai:"\u54C1\u724C",isChengJiao:"\u662F\u5426\u6210\u4EA4",jine:"\u91D1\u989D",pinpai_leibie:"\u54C1\u724C\u7C7B\u522B"});const nt=[{name:"\u5965\u5FB7\u8D5B",leibie:"\u65E5\u672C",parent:"\u672C\u7530"},{name:"\u5B9D\u9A6C",leibie:"\u5FB7\u56FD",parent:""},{name:"\u5317\u4EAC\u73B0\u4EE3",leibie:"\u5176\u4ED6",parent:""},{name:"\u5954\u9A70",leibie:"\u5FB7\u56FD",parent:""},{name:"\u5965\u8FEA",leibie:"\u5FB7\u56FD",parent:""},{name:"\u6BD4\u4E9A\u8FEA",leibie:"\u4E2D\u56FD",parent:""},{name:"\u522B\u514B",leibie:"\u7F8E\u56FD",parent:""},{name:"\u5BBE\u5229",leibie:"\u82F1\u56FD",parent:""},{name:"\u957F\u5B89",leibie:"\u4E2D\u56FD",parent:""},{name:"\u5927\u4F17",leibie:"\u5FB7\u56FD",parent:""},{name:"\u8C1B\u827E\u4ED5",leibie:"\u6CD5\u56FD",parent:""},{name:"\u5E1D\u8C6A",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E1C\u98CE\u65E5\u4EA7",leibie:"\u5176\u4ED6",parent:""},{name:"\u4E1C\u98CE\u5929\u9F99",leibie:"\u4E2D\u56FD",parent:"\u5409\u5229"},{name:"\u4E1C\u98CE\u96EA\u94C1\u9F99",leibie:"\u5176\u4ED6",parent:""},{name:"\u4E1C\u98CE\u60A6\u8FBE\u8D77\u4E9A",leibie:"\u5176\u4ED6",parent:""},{name:"\u98CE\u795E",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E30\u7530",leibie:"\u65E5\u672C",parent:""},{name:"\u5E7F\u4E30",leibie:"\u65E5\u672C",parent:"\u4E30\u7530"},{name:"\u798F\u7279",leibie:"\u7F8E\u56FD",parent:""},{name:"\u798F\u7530",leibie:"\u4E2D\u56FD",parent:""},{name:"\u5E7F\u6C7D\u672C\u7530",leibie:"\u5176\u4ED6",parent:""},{name:"\u54C8\u5F17",leibie:"\u4E2D\u56FD",parent:""},{name:"\u6C5F\u6DEE",leibie:"\u4E2D\u56FD",parent:""},{name:"\u6377\u8C79",leibie:"\u82F1\u56FD",parent:""},{name:"\u6676\u9A6C",leibie:"\u4E2D\u56FD",parent:""},{name:"\u51EF\u8FEA\u62C9\u514B",leibie:"\u7F8E\u56FD",parent:"\u6C5F\u94C3"},{name:"\u8DEF\u864E",leibie:"\u82F1\u56FD",parent:""},{name:"\u739B\u838E\u62C9\u8482",leibie:"\u610F\u5927\u5229",parent:""},{name:"\u9A6C\u81EA\u8FBE",leibie:"\u65E5\u672C",parent:""},{name:"\u5C3C\u6851",leibie:"\u65E5\u672C",parent:""},{name:"\u6B27\u66FC",leibie:"\u5176\u4ED6",parent:""},{name:"\u8363\u5A01",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E09\u83F1",leibie:"\u65E5\u672C",parent:""},{name:"\u5C1A\u9177",leibie:"\u5FB7\u56FD",parent:"\u5927\u4F17"},{name:"\u65AF\u67EF\u8FBE",leibie:"\u5FB7\u56FD",parent:""},{name:"\u7D22\u5170\u6258",leibie:"\u97E9\u56FD",parent:"\u8D77\u4E9A"},{name:"\u7279\u65AF\u62C9",leibie:"\u7F8E\u56FD",parent:""},{name:"\u6C83\u5C14\u6C83",leibie:"\u745E\u5178",parent:""},{name:"\u4E94\u83F1",leibie:"\u4E2D\u56FD",parent:""},{name:"\u73B0\u4EE3",leibie:"\u97E9\u56FD",parent:""},{name:"\u96EA\u4F5B\u5170",leibie:"\u7F8E\u56FD",parent:""},{name:"\u96C5\u9601",leibie:"\u65E5\u672C",parent:"\u672C\u7530"},{name:"\u7F24\u667A",leibie:"\u65E5\u672C",parent:"\u672C\u7530"},{name:"\u82F1\u83F2\u5C3C\u8FEA",leibie:"\u65E5\u672C",parent:""},{name:"\u4E2D\u534E",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E2D\u9A8F",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E2D\u8054",leibie:"\u4E2D\u56FD",parent:""},{name:"\u4E1C\u98CE",leibie:"\u4E2D\u56FD",parent:""},{name:"\u514B\u83B1\u65AF\u52D2",leibie:"\u7F8E\u56FD",parent:""},{name:"\u5317\u4EAC",leibie:"\u4E2D\u56FD",parent:""},{name:"\u957F\u57CE",leibie:"\u4E2D\u56FD",parent:""},{name:"\u5965\u94C3",leibie:"\u4E2D\u56FD",parent:"\u798F\u7530"},{name:"\u6D77\u9A6C",leibie:"\u4E2D\u56FD",parent:""},{name:"\u7EA2\u65D7",leibie:"\u4E2D\u56FD",parent:""},{name:"\u51E0\u4F55",leibie:"\u4E2D\u56FD",parent:"\u5409\u5229"},{name:"\u5E86\u94C3",leibie:"\u4E2D\u56FD",parent:""},{name:"\u601D\u5A01",leibie:"\u65E5\u672C",parent:"\u672C\u7530"},{name:"\u817E\u52BF",leibie:"\u5176\u4ED6",parent:""},{name:"\u7FFC\u864E",leibie:"\u4E2D\u56FD",parent:"\u957F\u5B89"},{name:"\u6B27\u62C9",leibie:"\u4E2D\u56FD",parent:"\u957F\u57CE"},{name:"\u8FDC\u7A0B",leibie:"\u4E2D\u56FD",parent:"\u5409\u5229"},{name:"\u5723\u739B\u6258",leibie:"\u7F8E\u56FD",parent:""},{name:"\u6377\u9014",leibie:"\u4E2D\u56FD",parent:"\u5947\u745E"},{name:"\u957F\u57CE\u98CE\u9A8F7",leibie:"\u4E2D\u56FD",parent:"\u957F\u57CE"}];var at=e=>{let n="\u65E0\u54C1\u724C\u7C7B\u522B",l=o=>nt.filter(h=>h.name==o||h.parent==o),u=()=>{let o=[];return e.value!=null&&e.value.length>0&&(o=e.value.split(`
`)),o.length>0&&(o=o.filter(f=>f!=null&&f.length>0)),o.length==0?[]:o.map(f=>{let m=f.split("	"),_={};_.date=m[0]&&m[0].trim()||"\u65E0\u65E5\u671F",_.dingsunyuan=m[1]&&m[1].trim()||"\u65E0\u5B9A\u635F\u5458",_.xiaoshouyuan=m[2]&&m[2].trim()||"\u65E0\u9500\u552E\u5458",_.chepai=m[3]&&m[3].trim()||"\u8F66\u724C",_.pinpai=m[4]&&m[4].trim()||"\u54C1\u724C",_.isChengJiao=m[5]&&m[5].trim()=="\u662F"&&!0||!1,_.jine=m[6]&&parseInt(m[6].trim())||0,_.pinpai_leibie=n;try{_.pinpai!="\u54C1\u724C"&&(_.pinpai_leibie=l(_.pinpai)[0].leibie)}catch(b){console.error(_,b)}return _})};const t=B(()=>u()),s=B(()=>{let o=0;return t.value&&t.value.length>0&&t.value.forEach(h=>{isNaN(h.jine)||(o+=h.jine)}),o}),d=B(()=>t.value&&t.value.length>0?t.value.filter(o=>o.pinpai_leibie==n):[]),i=B(()=>{let o=0,h=[];return t.value&&t.value.length>0&&(h=t.value.filter(f=>f.isChengJiao?(o+=f.jine,!0):!1)),{list:h,totalAmount:o}});return{dataList:t,totalAmount:s,chengJiaoData:i,noPinPaiDataList:d}},lt=(e,n,l)=>{function u(){let t=["\u8BE2\u4EF7\u5355\u6570","\u8BE2\u4EF7\u91D1\u989D","\u4F9B\u5E94\u5355\u6570","\u4F9B\u5E94\u91D1\u989D","\u672A\u4F9B\u5E94\u5355\u6570","\u672A\u4F9B\u5E94\u91D1\u989D"],s=[];if(e.value&&e.value.length>0){s.push({key:t[0],num:e.value.length,rate:1}),s.push({key:t[1],num:n.value,rate:1}),s.push({key:t[2],num:l.value.list.length,rate:l.value.list.length/e.value.length}),s.push({key:t[3],num:l.value.totalAmount,rate:l.value.totalAmount/n.value});let d=e.value.length-l.value.list.length;s.push({key:t[4],num:d,rate:d/e.value.length});let i=n.value-l.value.totalAmount;s.push({key:t[5],num:i,rate:i/n.value})}return s}return B(()=>u())};const ot=x({name:"TotalAnalyse",setup(){const e=P("dataList"),n=P("totalAmount"),l=P("chengJiaoData"),u=lt(e,n,l);return Y(()=>{new Q("#totalTable")}),{totalAnalyse:u}}}),rt=p("span",null,"\u62A5\u4EF7\u603B\u91CF\u5206\u6790",-1);function st(e,n,l,u,t,s){const d=Z,i=ee,o=J;return F(),A(o,{class:"box-card",id:"totalCard"},{header:r(()=>[rt]),default:r(()=>[a(i,{data:e.totalAnalyse,id:"totalTable","data-clipboard-target":"#totalCard",style:{width:"100%"},size:"small"},{default:r(()=>[a(d,{type:"index",label:"\u5E8F\u53F7"}),a(d,{prop:"key",label:"\u7C7B\u578B"}),a(d,{prop:"num",label:"\u6570\u91CF"}),a(d,{prop:"rate",label:"\u5360\u6BD4"})]),_:1},8,["data"])]),_:1})}var it=k(ot,[["render",st]]);function dt(e){return{pinpai_leibie:e.pinpai_leibie,total:1,jine:e.jine,totalRate:0,jineRate:0,chengJiaoTotal:e.isChengJiao&&1||0,chengJiaoJine:e.isChengJiao&&e.jine||0}}function ct(e,n){e.total+=1,e.jine+=n.jine,e.chengJiaoTotal+=n.isChengJiao&&1||0,e.chengJiaoJine+=n.isChengJiao&&n.jine||0}function pt(e,n,l){Object.keys(e).forEach(t=>{e[t].totalRate=e[t].total/n,e[t].jineRate=e[t].jine/l})}var _t=(e,n)=>{function l(){let u={};return e.value&&e.value.length>0&&(e.value.sort((t,s)=>t.pinpai_leibie.localeCompare(s.pinpai_leibie)),e.value.forEach(t=>{u[t.pinpai_leibie]?ct(u[t.pinpai_leibie],t):u[t.pinpai_leibie]=dt(t)}),pt(u,e.value.length,n.value)),u}return B(()=>l())};const mt=x({name:"PinPaiAnalyse",setup(){const e=P("dataList"),n=P("totalAmount"),l=_t(e,n),u=B(()=>Object.values(l.value));return Y(()=>{new Q("#pinpaiTable")}),{tableData:u}}}),ht=p("span",null,"\u54C1\u724C\u6784\u6210\u5206\u6790",-1);function ft(e,n,l,u,t,s){const d=Z,i=ee,o=J;return F(),A(o,{class:"box-card",id:"pinpaiCard"},{header:r(()=>[ht]),default:r(()=>[a(i,{data:e.tableData,id:"pinpaiTable","data-clipboard-target":"#pinpaiCard",style:{width:"100%"},size:"small","show-summary":""},{default:r(()=>[a(d,{type:"index",label:"\u5E8F\u53F7"}),a(d,{prop:"pinpai_leibie",label:"\u7C7B\u578B"}),a(d,{prop:"total",label:"\u6570\u91CF\uFF08\u4EFD\uFF09"}),a(d,{prop:"jine",label:"\u91D1\u989D"}),a(d,{prop:"totalRate",label:"\u6570\u91CF\u5360\u6BD4"}),a(d,{prop:"jineRate",label:"\u91D1\u989D\u5360\u6BD4"}),a(d,{prop:"chengJiaoTotal",label:"\u6210\u4EA4\u6570\u91CF"}),a(d,{prop:"chengJiaoJine",label:"\u6210\u4EA4\u91D1\u989D"})]),_:1},8,["data"])]),_:1})}var Ft=k(mt,[["render",ft]]);function gt(e){return{total:1,jine:e.jine,totalRate:0,jineRate:0,chengJiaoTotal:e.isChengJiao&&1||0,chengJiaoJine:e.isChengJiao&&e.jine||0,dingsunyuan:e.dingsunyuan}}function Et(e,n){e.total+=1,e.jine+=n.jine,e.chengJiaoTotal+=n.isChengJiao&&1||0,e.chengJiaoJine+=n.isChengJiao&&n.jine||0}function Dt(e,n,l){Object.keys(e).forEach(t=>{e[t].totalRate=e[t].total/n,e[t].jineRate=e[t].jine/l})}var bt=(e,n)=>{let l=()=>{let u={};return e.value&&e.value.length>0&&(e.value.sort((t,s)=>t.dingsunyuan.localeCompare(s.dingsunyuan)),e.value.forEach(t=>{u[t.dingsunyuan]?Et(u[t.dingsunyuan],t):u[t.dingsunyuan]=gt(t)}),Dt(u,e.value.length,n.value)),u};return B(()=>l())};const vt=x({name:"DingSunYuanAnalyse",setup(){const e=P("dataList"),n=P("totalAmount"),l=bt(e,n),u=B(()=>Object.values(l.value));return Y(()=>{new Q("#dsytable")}),{tableData:u}}}),yt=p("span",null,"\u5B9A\u635F\u5458\u5206\u6790",-1);function Ct(e,n,l,u,t,s){const d=Z,i=ee,o=J;return F(),A(o,{class:"box-card",id:"dsycard"},{header:r(()=>[yt]),default:r(()=>[a(i,{data:e.tableData,id:"dsytable","data-clipboard-target":"#dsycard",style:{width:"100%"},size:"small","show-summary":""},{default:r(()=>[a(d,{type:"index",label:"\u5E8F\u53F7"}),a(d,{prop:"dingsunyuan",label:"\u7C7B\u578B"}),a(d,{prop:"total",label:"\u6570\u91CF\uFF08\u4EFD\uFF09"}),a(d,{prop:"jine",label:"\u91D1\u989D"}),a(d,{prop:"totalRate",label:"\u6570\u91CF\u5360\u6BD4"}),a(d,{prop:"jineRate",label:"\u91D1\u989D\u5360\u6BD4"}),a(d,{prop:"chengJiaoTotal",label:"\u6210\u4EA4\u6570\u91CF"}),a(d,{prop:"chengJiaoJine",label:"\u6210\u4EA4\u91D1\u989D"})]),_:1},8,["data"])]),_:1})}var Bt=k(vt,[["render",Ct]]);const At=x({name:"DingSunYuanAnalyse",setup(){const e=P("dataList"),n=B(()=>{let l={};return e.value&&e.value.length>0?(e.value.sort((u,t)=>u.xiaoshouyuan.localeCompare(t.xiaoshouyuan)),e.value.forEach(u=>{l[u.xiaoshouyuan]?(l[u.xiaoshouyuan].total+=1,l[u.xiaoshouyuan].chengJiaoTotal+=u.isChengJiao&&1||0):l[u.xiaoshouyuan]={xiaoshouyuan:u.xiaoshouyuan,total:1,chengJiaoTotal:u.isChengJiao&&1||0}}),Object.values(l)):[]});return Y(()=>{new Q("#xsytable")}),{tableData:n}}}),xt=p("span",null,"\u9500\u552E\u5458\u5206\u6790",-1);function wt(e,n,l,u,t,s){const d=Z,i=ee,o=J;return F(),A(o,{class:"box-card",id:"xsycard"},{header:r(()=>[xt]),default:r(()=>[a(i,{data:e.tableData,id:"xsytable","data-clipboard-target":"#xsycard",style:{width:"100%"},size:"small","show-summary":""},{default:r(()=>[a(d,{type:"index",label:"\u5E8F\u53F7"}),a(d,{prop:"xiaoshouyuan",label:"\u9500\u552E\u5458"}),a(d,{prop:"total",label:"\u603B\u91CF"}),a(d,{prop:"chengJiaoTotal",label:"\u6210\u4EA4\u6570\u91CF"})]),_:1},8,["data"])]),_:1})}var $t=k(At,[["render",wt]]);const St=x({name:"NoPinPaiList",setup(){const e=P("noPinPaiList"),n=B(()=>e.value.length>0);return{noPinPaiList:e,showable:n}}}),Vt=e=>(ne("data-v-bf8ffa0c"),e=e(),ae(),e),kt=Vt(()=>p("span",null,"\u65E0\u54C1\u724C\u7C7B\u578B",-1));function Lt(e,n,l,u,t,s){const d=xe,i=J;return we((F(),A(i,{class:"box-card"},{header:r(()=>[kt]),default:r(()=>[(F(!0),v(V,null,I(e.noPinPaiList,(o,h)=>(F(),A(d,{key:h},{default:r(()=>[E(D(o.pinpai),1)]),_:2},1024))),128))]),_:1},512)),[[$e,e.showable]])}var It=k(St,[["render",Lt],["__scopeId","data-v-bf8ffa0c"]]);const Tt=x({name:"TongJi",components:{TotalAnalyse:it,PinPaiAnalyse:Ft,DingSunYuanAnalyse:Bt,XiaoShouYuanAnalyse:$t,NoPinPaiList:It},setup(){const e=ut(),n=$(""),{dataList:l,totalAmount:u,chengJiaoData:t,noPinPaiDataList:s}=at(n);return G("dataList",l),G("totalAmount",u),G("chengJiaoData",t),G("noPinPaiList",s),{headTableItem:e,content:n,dataList:l,totalAmount:u,chengJiaoData:t}}}),jt={style:{width:"100%"}};function Pt(e,n,l,u,t,s){const d=le,i=H,o=j("no-pin-pai-list"),h=j("total-analyse"),f=j("ding-sun-yuan-analyse"),m=K,_=j("xiao-shou-yuan-analyse"),b=j("pin-pai-analyse");return F(),v(V,null,[a(i,null,{default:r(()=>[p("table",jt,[p("tr",null,[(F(!0),v(V,null,I(e.headTableItem,(y,w)=>(F(),v("th",{key:w},D(y),1))),128))])]),a(d,{modelValue:e.content,"onUpdate:modelValue":n[0]||(n[0]=y=>e.content=y),rows:22,type:"textarea",placeholder:"\u8BF7\u590D\u5236\u6570\u636E\u81F3\u6B64"},null,8,["modelValue"])]),_:1}),a(i,null,{default:r(()=>[a(o)]),_:1}),a(i,{gutter:10},{default:r(()=>[a(m,{span:12},{default:r(()=>[a(h),a(f)]),_:1}),a(m,{span:12},{default:r(()=>[a(_),a(b)]),_:1})]),_:1})],64)}var Rt=k(Tt,[["render",Pt]]);const de=e=>(ne("data-v-23336cac"),e=e(),ae(),e),Nt={class:"card-header"},Jt=de(()=>p("span",{style:{color:"var(--el-color-info)"}},"\u70B9\u51FB\u53EF\u81EA\u52A8\u590D\u5236",-1)),Mt=E("\u6253\u5F00\u817E\u8BAF\u6587\u6863"),Ut=de(()=>p("span",null,"\u8BA1\u7B97\u540E\u7ED3\u679C",-1)),Ot=de(()=>p("span",null,"\u7ED3\u679C",-1)),zt=x({props:{showComputedList:Array,totalCount:[Number,String],showList:Array,region:String},setup(e){const{toClipboard:n}=Se(),l=$("https://docs.qq.com/sheet/DS0FkVVhwd29KdHNk"),u=async t=>{try{if(t==null)return;let s=Array.isArray(t)&&t.join(`
`)||t.toString();await n(s),O({message:"\u590D\u5236\u6210\u529F",type:"success"})}catch(s){console.error(s),O.error(s.message||"\u771F\u5947\u602A\uFF0C\u4E0D\u77E5\u9053\u54EA\u91CC\u9519\u4E86\u3002")}};return(t,s)=>{const d=Ve,i=K,o=H,h=J;return F(),v("div",null,[a(h,null,{header:r(()=>[p("div",Nt,[Jt,a(d,{type:"primary",href:l.value,target:"_blank"},{default:r(()=>[Mt]),_:1},8,["href"])])]),default:r(()=>[a(o,{gutter:10},{default:r(()=>[a(i,{span:10},{default:r(()=>[ke(t.$slots,"default",{},void 0,!0)]),_:3}),a(i,{span:14,onClick:s[0]||(s[0]=f=>u(e.totalCount))},{default:r(()=>[E(" \u603B\u8BA1\uFF1A"+D(e.totalCount),1)]),_:1})]),_:3})]),_:3}),a(o,null,{default:r(()=>[a(i,{span:16},{default:r(()=>[a(h,{onClick:s[1]||(s[1]=f=>u(e.showComputedList))},{header:r(()=>[Ut]),default:r(()=>[(F(!0),v(V,null,I(e.showComputedList,(f,m)=>(F(),v("div",{key:m},D(f),1))),128))]),_:1})]),_:1}),a(i,{span:8},{default:r(()=>[a(h,{onClick:s[2]||(s[2]=f=>u(e.showList))},{header:r(()=>[Ot]),default:r(()=>[(F(!0),v(V,null,I(e.showList,(f,m)=>(F(),v("div",{key:m},D(f),1))),128))]),_:1})]),_:1})]),_:1})])}}});var qt=k(zt,[["__scopeId","data-v-23336cac"]]),Xt=()=>{const e={x:0,y:0},n=X({x:0,y:0});let l=!1;return{handleMousedown:i=>{l=!0,e.x=i.clientX,e.y=i.clientY,i.preventDefault()},handleMousemove:i=>(l&&(n.x=i.clientX-e.x,n.y=i.clientY-e.y),!1),handleMouseup:i=>{l=!1},translate:n,init:()=>{n.x=0,n.y=0}}};const Yt={class:"upload-wapper"},Ht={class:"el-image"},Kt=["src"],Gt={class:"tips"},Wt=p("small",{style:{color:"var(--el-text-color-disabled)"}},"\u56FE\u7247\u53EF\u7F29\u653E\uFF0C\u4E5F\u53EF\u79FB\u52A8",-1),Qt=E("\u56FE\u7247\u8FD8\u539F"),Zt=p("div",{class:"el-upload__text"},"\u62D6\u62FD\u6216\u4E0A\u4F20\u6587\u4EF6",-1),eu=x({setup(e){const n=$(),l=$(""),u=$(1),t=$(1);$(null);const{handleMousedown:s,handleMousemove:d,handleMouseup:i,translate:o,init:h}=Xt(),f=w=>{w&&w.hasOwnProperty("url")&&(l.value=w.url||"")},m=()=>{t.value=1,h()},_=()=>+new Date,b=w=>{n.value.clearFiles();const C=w[0];C.uid=_(),n.value.handleStart(C)},y=w=>{let C=.2;return w.deltaY<0?t.value<2?t.value+=C:t.value=2:w.deltaY>0&&(t.value>.4?t.value-=C:t.value=.4),!1};return(w,C)=>{const g=me,L=he;return F(),v("div",Yt,[p("div",Ht,[p("img",{src:l.value,onWheel:y,onMousemove:C[0]||(C[0]=(...R)=>c(d)&&c(d)(...R)),onMousedown:C[1]||(C[1]=(...R)=>c(s)&&c(s)(...R)),onMouseup:C[2]||(C[2]=(...R)=>c(i)&&c(i)(...R)),style:fe({transform:"scale("+t.value+") translate("+c(o).x+"px, "+c(o).y+"px)","object-fit":"contain"}),class:"el-image__inner"},null,44,Kt)]),p("p",Gt,[Wt,p("span",{onClick:m},[Qt,a(g,null,{default:r(()=>[a(c(Le))]),_:1})])]),a(L,{action:"#",drag:"",ref_key:"upload",ref:n,"auto-upload":!1,limit:u.value,"list-type":"picture","on-change":f,"on-exceed":b},{default:r(()=>[a(g,{class:"el-icon--upload"},{default:r(()=>[a(c(Ie))]),_:1}),Zt]),_:1},8,["limit"])])}}});const tu=E("\u5730\u533A"),uu=p("legend",null,"\u5206\u9694\u7B26\uFF1A",-1),nu=x({setup(e){const n=$(""),l=$(["\u8BF7\u5728\u6B64\u8F93\u5165\u8F93\u5165","\u4E00\u884C\u4E00\u7EC4","\u4EE5\u7A7A\u683C\u76F8\u683C","\u4F8B\u5982\uFF1A","123 32 23 3","56 65 45 3","234 42 34 6"].join(`
`)),u={SPACE:{label:"\u7A7A\u683C",value:" "},X:{label:"X;",value:"X"}},t=$(""),s=$(u.SPACE.value);function d(m,_){if(_==u.SPACE.value)return m.trim().split(_);if(_==u.X.value){let b=m.trim().split(_),y=b[2].split(";");return[b[0],b[1],y[0],y[1]]}}let i=B(()=>{let m=n.value.trim();if(!m)return[];let _=m.split(`
`);return!_||_.length==0?[]:(_[0].includes(u.X.value)?s.value=u.X.value:s.value=u.SPACE.value,_.map(b=>{let y=d(b,s.value);return{len:y[0],width:y[1],height:y[2],count:y[3]}}))}),o=B(()=>i.value.map(m=>m.len+"X"+m.width+"X"+m.height+";"+m.count)),h=B(()=>i.value.map(m=>m.len+"X"+m.width+"X"+m.height+"X"+m.count+"="+m.len*m.width*m.height*m.count)),f=B(()=>{let m=0;return i.value.forEach(_=>{m+=_.len*_.width*_.height*_.count}),m});return(m,_)=>{const b=le,y=K,w=oe,C=re,g=H;return F(),A(g,{gutter:20},{default:r(()=>[a(y,{span:10},{default:r(()=>[a(qt,{"total-count":c(f),"show-computed-list":c(h),"show-list":c(o),region:t.value},{default:r(()=>[a(b,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=L=>t.value=L),placeholder:"\u8BF7\u8F93\u5165\u5730\u533A"},{prepend:r(()=>[tu]),_:1},8,["modelValue"])]),_:1},8,["total-count","show-computed-list","show-list","region"])]),_:1}),a(y,{span:4},{default:r(()=>[p("fieldset",null,[uu,a(C,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=L=>s.value=L)},{default:r(()=>[(F(),v(V,null,I(u,L=>a(w,{label:L.value,size:"small",border:""},{default:r(()=>[E(D(L.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),a(b,{modelValue:n.value,"onUpdate:modelValue":_[2]||(_[2]=L=>n.value=L),rows:20,type:"textarea",placeholder:l.value,style:{"font-size":"large"}},null,8,["modelValue","placeholder"])]),_:1}),a(y,{span:10},{default:r(()=>[a(eu)]),_:1})]),_:1})}}}),au=x({setup(e){const n=se();Te();const l=n.getRoutes().filter(u=>!u.meta.menuHidden);return(u,t)=>{const s=j("router-link");return F(!0),v(V,null,I(c(l),d=>(F(),A(s,{to:d.path,key:d.path,class:"link"},{default:r(()=>[E(D(d.meta.title),1)]),_:2},1032,["to"]))),128)}}});var lu="/sn-tools/img/logo-gitee-g.svg";const ou={},ru={style:{float:"right",cursor:"pointer"},href:"https://gitee.com/hzsn-csh/sn-tools",target:"_blank"},su=p("img",{alt:"Gitee",src:lu,title:"Gitee \u2014 \u57FA\u4E8E Git \u7684\u4EE3\u7801\u6258\u7BA1\u548C\u7814\u53D1\u534F\u4F5C\u5E73\u53F0",style:{height:"36px","margin-top":"12px"}},null,-1),iu=[su];function du(e,n){return F(),v("a",ru,iu)}var cu=k(ou,[["render",du]]);const pu={},_u=E("\u5C0F\u5DE5\u5177");function mu(e,n){const l=cu,u=je,t=au,s=Pe,d=j("router-view"),i=Re,o=Ne;return F(),A(o,null,{default:r(()=>[a(u,null,{default:r(()=>[_u,a(l)]),_:1}),a(o,null,{default:r(()=>[a(s,{width:"200px"},{default:r(()=>[a(t)]),_:1}),a(i,null,{default:r(()=>[a(d)]),_:1})]),_:1})]),_:1})}var hu=k(pu,[["render",mu]]);const fu={},Fu=E("\u4F53\u79EF\u8BA1\u7B97"),gu=E("\u4F53\u79EF\u8BA1\u7B97"),Eu=E("\u54C1\u724C\u7EDF\u8BA1"),Du=E("\u54C1\u724C\u7EDF\u8BA1"),bu=E("\u9F0E\u80FD\u9762\u5355"),vu=E("\u9F0E\u80FD\u9762\u5355");function yu(e,n){const l=j("router-link"),u=J,t=K,s=H;return F(),A(s,{gutter:20},{default:r(()=>[a(t,{span:6},{default:r(()=>[a(u,null,{header:r(()=>[Fu]),default:r(()=>[a(l,{to:"/volume"},{default:r(()=>[gu]),_:1})]),_:1})]),_:1}),a(t,{span:6},{default:r(()=>[a(u,null,{header:r(()=>[Eu]),default:r(()=>[a(l,{to:"/tongji"},{default:r(()=>[Du]),_:1})]),_:1})]),_:1}),a(t,{span:6},{default:r(()=>[a(u,null,{header:r(()=>[bu]),default:r(()=>[a(l,{to:"/dingnengorder"},{default:r(()=>[vu]),_:1})]),_:1})]),_:1})]),_:1})}var Cu=k(fu,[["render",yu]]);const Bu={},Au=E("\u56DE\u9996\u9875");function xu(e,n){const l=te,u=j("router-link"),t=Je;return F(),A(t,{icon:"error",title:"404","sub-title":"not found"},{extra:r(()=>[a(u,{to:"/"},{default:r(()=>[a(l,{type:"primary"},{default:r(()=>[Au]),_:1})]),_:1})]),_:1})}var wu=k(Bu,[["render",xu]]),$u={sender:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u8D27\u4EBA",trigger:"blur"}],sender_phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u8D27\u4EBA\u7535\u8BDD",trigger:"blur"}],recipient_company:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u5355\u4F4D",trigger:"blur"}],recipient:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA",trigger:"blur"}],recipient_phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA\u7535\u8BDD",trigger:"blur"}],address:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u5730\u5740",trigger:"blur"}],send_time:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u8FD0\u65F6\u95F4",trigger:"change"}],recipient_time:[{required:!0,message:"\u8BF7\u8F93\u5165\u6536\u8D27\u65F6\u95F4",trigger:"change"}],total_volume:[{type:"number",required:!0,message:"\u8BF7\u8F93\u5165\u603B\u4F53\u79EF\uFF0C\u6570\u5B57\u7C7B\u578B",trigger:"blur"}],total_weight:[{type:"number",required:!0,message:"\u8BF7\u8F93\u5165\u603B\u91CD\u91CF\uFF0C\u6570\u5B57\u7C7B\u578B",trigger:"blur"}],delivery_user:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u8D27\u4EBA",trigger:"blur"}],remark:[]};const Su=[{key:"zhixiang",value:0,text:"\u7EB8\u7BB1"},{key:"muxiang",value:0,text:"\u6728\u7BB1"},{key:"tiejian",value:0,text:"\u94C1\u4EF6"},{key:"qita",value:0,text:"\u5176\u4ED6"}],Vu=()=>Object.assign([],Su),ve=ie("dingnengOrder",{state:()=>({dn_order_id:"",sender:"",sender_phone:"",recipient_company:"",recipient:"",recipient_phone:"",address:"",goodsList:[],send_time:0,recipient_time:0,total_volume:0,total_weight:0,delivery_user:"",remark:""}),getters:{total_count:e=>{let n=0;return e.goodsList.forEach(l=>{n+=l.value}),n}},actions:{createDNOrderId(){return"DN"+new Date().getTime()+Math.floor(Math.random()*1e3)},getGoodsList(){return Vu().map(e=>(e.value=0,e))},getFromStorage(){return{sender:localStorage.getItem("sender")||"",sender_phone:localStorage.getItem("sender_phone")||"",delivery_user:localStorage.getItem("delivery_user")||""}},saveToStorage(){localStorage.setItem("sender",this.sender),localStorage.setItem("sender_phone",this.sender_phone),localStorage.setItem("delivery_user",this.delivery_user)},init(){this.$reset(),this.goodsList=this.getGoodsList(),this.dn_order_id=this.createDNOrderId();let e=this.getFromStorage();this.sender=e.sender,this.sender_phone=e.sender_phone,this.delivery_user=e.delivery_user,this.send_time=+new Date,this.recipient_time=+new Date}}}),ku={style:{width:"600px",margin:"auto"}},Lu=p("h3",{style:{"text-align":"center",color:"var(--el-text-color-primary)"}},"\u521B\u5EFA\u9762\u5355",-1),Iu=E("m\xB3"),Tu=E("KG"),ju=E("\u6253\u5370"),Pu=E("\u91CD\u7F6E"),Ru=x({setup(e){const n=$(),l=ve();l.init();const u=l.$state,t=se(),s=async()=>{!n||await n.value.validate(i=>{!i||(l.saveToStorage(),t.push({name:"dingnengOrderPrint"}))})},d=()=>{!n||l.init()};return(i,o)=>{const h=le,f=Fe,m=K,_=H,b=ge,y=Ee,w=te,C=De;return F(),v("div",ku,[Lu,a(C,{ref_key:"elFormRef",ref:n,model:c(u),rules:c($u),"label-width":"100px"},{default:r(()=>[a(_,null,{default:r(()=>[a(m,{span:12},{default:r(()=>[a(f,{label:"\u53D1\u8D27\u4EBA",prop:"sender"},{default:r(()=>[a(h,{modelValue:c(u).sender,"onUpdate:modelValue":o[0]||(o[0]=g=>c(u).sender=g),placeholder:"\u8BF7\u8F93\u5165\u53D1\u8D27\u4EBA",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),a(m,{span:12},{default:r(()=>[a(f,{label:"\u53D1\u8D27\u4EBA\u7535\u8BDD",prop:"sender_phone"},{default:r(()=>[a(h,{modelValue:c(u).sender_phone,"onUpdate:modelValue":o[1]||(o[1]=g=>c(u).sender_phone=g),placeholder:"\u8BF7\u8F93\u5165\u53D1\u8D27\u4EBA\u7535\u8BDD",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(f,{label:"\u6536\u8D27\u5355\u4F4D",prop:"recipient_company"},{default:r(()=>[a(h,{modelValue:c(u).recipient_company,"onUpdate:modelValue":o[2]||(o[2]=g=>c(u).recipient_company=g),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u5355\u4F4D",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(_,null,{default:r(()=>[a(m,{span:12},{default:r(()=>[a(f,{label:"\u6536\u8D27\u4EBA",prop:"recipient"},{default:r(()=>[a(h,{modelValue:c(u).recipient,"onUpdate:modelValue":o[3]||(o[3]=g=>c(u).recipient=g),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),a(m,{span:12},{default:r(()=>[a(f,{label:"\u6536\u8D27\u4EBA\u7535\u8BDD",prop:"recipient_phone"},{default:r(()=>[a(h,{modelValue:c(u).recipient_phone,"onUpdate:modelValue":o[4]||(o[4]=g=>c(u).recipient_phone=g),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA\u7535\u8BDD",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(f,{label:"\u6536\u8D27\u5730\u5740",prop:"address"},{default:r(()=>[a(h,{modelValue:c(u).address,"onUpdate:modelValue":o[5]||(o[5]=g=>c(u).address=g),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u5730\u5740",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(_,null,{default:r(()=>[(F(!0),v(V,null,I(c(u).goodsList,(g,L)=>(F(),A(m,{span:12,key:g.key},{default:r(()=>[a(f,{label:g.text},{default:r(()=>[a(b,{modelValue:g.value,"onUpdate:modelValue":R=>g.value=R,placeholder:"\u8BF7\u8F93\u5165"+g.text,step:1,max:1e3},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label"])]),_:2},1024))),128))]),_:1}),a(_,null,{default:r(()=>[a(m,{span:12},{default:r(()=>[a(f,{label:"\u53D1\u8FD0\u65F6\u95F4",prop:"send_time"},{default:r(()=>[a(y,{type:"datetime",modelValue:c(u).send_time,"onUpdate:modelValue":o[6]||(o[6]=g=>c(u).send_time=g),placeholder:"\u8BF7\u8F93\u5165\u53D1\u8FD0\u65F6\u95F4",clearable:"","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1}),a(m,{span:12},{default:r(()=>[a(f,{label:"\u6536\u8D27\u65F6\u95F4",prop:"recipient_time"},{default:r(()=>[a(y,{type:"datetime",modelValue:c(u).recipient_time,"onUpdate:modelValue":o[7]||(o[7]=g=>c(u).recipient_time=g),placeholder:"\u8BF7\u8F93\u5165\u6536\u8D27\u65F6\u95F4",clearable:"","value-format":"x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(_,null,{default:r(()=>[a(m,{span:12},{default:r(()=>[a(f,{label:"\u603B\u4F53\u79EF",prop:"total_volume"},{default:r(()=>[a(h,{modelValue:c(u).total_volume,"onUpdate:modelValue":o[8]||(o[8]=g=>c(u).total_volume=g),modelModifiers:{number:!0},placeholder:"\u8BF7\u8F93\u5165\u603B\u4F53\u79EF",clearable:"",style:{width:"100%"}},{append:r(()=>[Iu]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(m,{span:12},{default:r(()=>[a(f,{label:"\u603B\u91CD\u91CF",prop:"total_weight"},{default:r(()=>[a(h,{modelValue:c(u).total_weight,"onUpdate:modelValue":o[9]||(o[9]=g=>c(u).total_weight=g),modelModifiers:{number:!0},placeholder:"\u8BF7\u8F93\u5165\u603B\u91CD\u91CF",clearable:""},{append:r(()=>[Tu]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(f,{label:"\u63D0\u8D27\u4EBA",prop:"delivery_user"},{default:r(()=>[a(h,{modelValue:c(u).delivery_user,"onUpdate:modelValue":o[10]||(o[10]=g=>c(u).delivery_user=g),placeholder:"\u8BF7\u8F93\u5165\u63D0\u8D27\u4EBA",clearable:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(f,{label:"\u5907\u6CE8",prop:"remark"},{default:r(()=>[a(h,{modelValue:c(u).remark,"onUpdate:modelValue":o[11]||(o[11]=g=>c(u).remark=g),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",autosize:{minRows:4,maxRows:4},style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(f,{size:"large"},{default:r(()=>[a(w,{type:"primary",onClick:s},{default:r(()=>[ju]),_:1}),a(w,{onClick:d},{default:r(()=>[Pu]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}});var Nu="/sn-tools/img/dingneng.png";const Ju=ie("dingnengSettings",()=>{const e="printFontSize",n=()=>{const s=localStorage.getItem(e);return console.log("getFromStorage",s),s==null||s==null?1:parseFloat(s)},l=n(),u=$(l);return{fontSize:u,getFromStorage:n,saveToStorage:()=>{localStorage.setItem(e,""+u.value)}}}),Mu=x({props:{code:{type:String,required:!0}},setup(e){const{code:n}=e,l=$(null);Y(()=>{l.value&&u(l.value,n)});const u=(t,s)=>{Me(t,s,{displayValue:!1,height:60})};return(t,s)=>(F(),v("svg",{ref_key:"barcodeRef",ref:l},null,512))}});const ue=e=>(ne("data-v-d893585c"),e=e(),ae(),e),Uu=ue(()=>p("div",{class:"order-header"},[p("img",{height:"40",width:"40",src:Nu}),p("span",null,"\u676D\u5DDE\u9F0E\u80FD\u4F9B\u5E94\u94FE\u53D1\u8FD0\u5355")],-1)),Ou={style:{margin:"10px 0 0 0"}},zu={style:{"text-align":"center"}},qu={colspan:"3"},Xu={colspan:"2"},Yu={colspan:"5"},Hu={colspan:"3"},Ku={colspan:"2"},Gu={colspan:"5"},Wu=ue(()=>p("tr",null,[p("td",{colspan:"5",style:{"text-align":"center",padding:"10px 0px","font-size":"1.12em"}}," \u8D27\u7269\u8BE6\u60C5 ")],-1)),Qu=ue(()=>p("td",{style:{"text-align":"center"}},"\u5408\u8BA1",-1)),Zu={style:{"text-align":"center"}},en={colspan:"3"},tn={colspan:"2"},un={colspan:"5"},nn={colspan:"3"},an=ue(()=>p("td",{colspan:"2"},"\u7B7E\u6536\u4EBA\uFF1A",-1)),ln={colspan:"5"},on={style:{border:"none"}},rn={colspan:"5"},sn={class:"other-wapper"},dn={class:"print-btn-wapper"},cn={class:"print-btn-wapper"},pn=E("\u6253\u5370"),_n={class:"print-btn-wapper"},mn=E("\u8FD4\u56DE"),hn=x({setup(e){const n=se(),l=ve(),u=Ju(),t=l.$state,s=$(!1),{fontSize:d}=q(u),i=_=>{u.saveToStorage()},o=B(()=>{let _=new Date(t.send_time);return _.getFullYear()+"\u5E74"+(_.getMonth()+1)+"\u6708"+_.getDate()+"\u65E5"}),h=B(()=>{let _=new Date(t.recipient_time);return _.getFullYear()+"\u5E74"+(_.getMonth()+1)+"\u6708"+_.getDate()+"\u65E5"}),f=()=>{s.value=!0,n.back()},m=()=>{window.print()};return(_,b)=>{const y=ge,w=te;return F(),v(V,null,[p("div",{class:"order-wapper print",style:fe({fontSize:c(d)+"em"})},[Uu,p("p",Ou,"\u8FD0\u5355\u53F7\uFF1A"+D(c(t).dn_order_id),1),p("div",zu,[a(Mu,{code:c(t).dn_order_id},null,8,["code"])]),p("table",null,[p("tbody",null,[p("tr",null,[p("td",qu,"\u53D1\u8D27\u4EBA\uFF1A"+D(c(t).sender),1),p("td",Xu,"\u7535\u8BDD\uFF1A"+D(c(t).sender_phone),1)]),p("tr",null,[p("td",Yu,"\u6536\u8D27\u5355\u4F4D\uFF1A"+D(c(t).recipient_company),1)]),p("tr",null,[p("td",Hu,"\u6536\u8D27\u4EBA\uFF1A"+D(c(t).recipient),1),p("td",Ku,"\u7535\u8BDD\uFF1A"+D(c(t).recipient_phone),1)]),p("tr",null,[p("td",Gu,"\u6536\u8D27\u5730\u5740\uFF1A"+D(c(t).address),1)]),Wu,p("tr",null,[(F(!0),v(V,null,I(c(t).goodsList,C=>(F(),v("td",{class:"border-right",key:C.key},D(C.text),1))),128)),Qu]),p("tr",null,[(F(!0),v(V,null,I(c(t).goodsList,C=>(F(),v("td",{class:"border-right",key:C.key},D(C.value),1))),128)),p("td",Zu,D(c(l).total_count),1)]),p("tr",null,[p("td",en,"\u4F53\u79EF\uFF1A"+D(c(t).total_volume)+" m\xB3",1),p("td",tn,"\u91CD\u91CF\uFF1A"+D(c(t).total_weight)+" KG",1)]),p("tr",null,[p("td",un,"\u53D1\u8FD0\u65F6\u95F4\uFF1A"+D(c(o)),1)]),p("tr",null,[p("td",nn,"\u63D0\u8D27\u4EBA\uFF1A"+D(c(t).delivery_user),1),an]),p("tr",null,[p("td",ln,"\u65E5\u671F\uFF1A"+D(c(h)),1)]),p("tr",on,[p("td",rn,"\u5907\u6CE8\uFF1A"+D(c(t).remark),1)])])])],4),p("div",sn,[p("div",dn,[a(y,{modelValue:c(d),"onUpdate:modelValue":b[0]||(b[0]=C=>z(d)?d.value=C:null),precision:2,step:.1,min:1,max:2,onChange:i,style:{width:"200px","margin-left":"74px"}},null,8,["modelValue","step"])]),p("div",cn,[a(w,{type:"primary",class:"print-btn",onClick:m},{default:r(()=>[pn]),_:1})]),p("div",_n,[a(w,{onClick:f,loading:s.value},{default:r(()=>[mn]),_:1},8,["loading"])])])],64)}}});var fn=k(hn,[["__scopeId","data-v-d893585c"]]);const ye=57,Ce=38,S=[{id:ye,text:"\u9646\u653E",label:"kluger"},{id:Ce,text:"\u8363\u653E",label:"rav4"}],T={city:"\u57CE\u5E02",username:"\u59D3\u540D",phone:"\u7535\u8BDD",seriesId:"\u8F66\u7CFB\u4EE3\u7801",dealerId:"\u7ECF\u9500\u5546\u7F16\u7801",dealerName:"\u7ECF\u9500\u5546\u540D\u79F0",orderAt:"\u65F6\u95F4"},M=ie("ftmsStore",()=>{let e=new Date;const n=X([new Date(e.getFullYear(),e.getMonth(),e.getDate()-1,18),new Date(e.getFullYear(),e.getMonth(),e.getDate(),17,59,59)]),l=X([{id:0,text:"\u6570\u636E"},...S]);function u(i){return i.label+i.id}function t(i){let o=localStorage.getItem(u(i));return o&&JSON.parse(o)||[]}const s=X({[S[0].label]:t(S[0]),[S[1].label]:t(S[1])});function d(i,o){let h=S.filter(f=>f.id==o)[0];localStorage.setItem(u(h),JSON.stringify(i)),s[h.label]=i}return{dateTime:n,uploadTypeRadioKeyList:l,seriesList:s,saveSeries:d}});function U(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e))+e}function Fn(e,n){e.forEach(l=>{let u=U(0,n[l.city].length),t=n[l.city][u];l.dealerId=t.dealerId,l.dealerName=t.name})}function N(e){return e<10&&"0"+e||e}const W={hour:[9,10,11,12,13,14,15,16,17,18,19,20,21,22],weight:[15,19,14,8,10,17,16,12,10,5,3,3,2,2]},gn=(()=>W.weight.reduce((e,n)=>e+n))();function En(){let e=U(0,gn);for(let n=0;n<W.weight.length;n++)if(e-=W.weight[n],e<=0)return n;return 0}function Dn(){const{dateTime:e}=M();let n=En(),l=W.hour[n],u=new Date(U(e[0].getTime(),e[1].getTime()));for(;u.getHours()!=l;)u=new Date(U(e[0].getTime(),e[1].getTime()));let t=u.getFullYear(),s=u.getMonth()+1,d=u.getDate(),i=N(U(0,60)),o=N(U(0,60));return t+"-"+N(s)+"-"+N(d)+" "+N(l)+":"+i+":"+o}function bn(e){e.forEach(n=>{n.orderAt=Dn()})}function vn(e,n){let l=S.filter(u=>e.includes(u.text));return l.length>0?l[0]:S.filter(u=>n.includes(u.text))[0]}var yn=(e,n)=>{const{seriesList:l}=q(M());let u=l.value[n.label],t=e.map(i=>({city:i[T.city],username:i[T.username],phone:i[T.phone],seriesId:n.id})),s=new Set;t.forEach(i=>s.add(i.city));let d={};return s.forEach(i=>{d[i]=u.filter(o=>o.city==i)}),Fn(t,d),bn(t),t.map(i=>{let o={};return o[T.city]=i.city,o[T.username]=i.username,o[T.phone]=i.phone,o[T.dealerId]=i.dealerId,o[T.dealerName]=i.dealerName,o[T.seriesId]=i.seriesId,o[T.orderAt]=i.orderAt,console.log(i.orderAt),o})};function Cn(e,n){n=n||"sheet1";var l={SheetNames:[n],Sheets:{}};l.Sheets[n]=e;var u={bookType:"xlsx",bookSST:!1,type:"binary"},t=Oe(l,u),s=new Blob([d(t)],{type:"application/octet-stream"});function d(i){for(var o=new ArrayBuffer(i.length),h=new Uint8Array(o),f=0;f!=i.length;++f)h[f]=i.charCodeAt(f)&255;return o}return s}function Bn(e,n){let l="";typeof e=="object"&&e instanceof Blob&&(l=URL.createObjectURL(e));var u=document.createElement("a");u.href=l,u.download=n||"";var t;window.MouseEvent?t=new MouseEvent("click"):(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null)),u.dispatchEvent(t),u.remove()}const An=(e,n)=>{let l=new Date,u=N(l.getMonth()+1)+""+N(l.getDate());Bn(Cn(be.json_to_sheet(e),n.text+"-"+u),n.text+"-"+n.id+"-"+u+".xlsx")},xn=e=>new Promise((n,l)=>{let u=new FileReader;u.onload=t=>{var s;try{n(Ue((s=t.target)==null?void 0:s.result))}catch(d){l(d)}},u.readAsArrayBuffer(e)}),wn=(e,n)=>{let l=e.Sheets[e.SheetNames[n]];return be.sheet_to_json(l)},_e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";var $n=e=>({valiteFile:(u,t)=>{let s=u.raw;if(s){if(s.type==_e)return!0;O({type:"warning",message:"\u9644\u4EF6\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u5220\u9664\u540E\u91CD\u65B0\u4E0A\u4F20\uFF01"})}else O({type:"warning",message:"\u8BF7\u4E0A\u4F20\u9644\u4EF6\uFF01"});return!1},handleExceed:u=>{e.value.clearFiles();const t=u[0];t.uid=Date.now(),e.value.handleStart(t)},acceptType:_e});const Sn=p("div",{class:"el-upload__text"},[E(" Drop file here or "),p("em",null,"click to upload")],-1),Vn=x({emits:["change"],setup(e,{emit:n}){const l=$(),{valiteFile:u,handleExceed:t,acceptType:s}=$n(l),d=(i,o)=>{u(i,o)&&i.raw&&n("change",i.raw)};return(i,o)=>{const h=me;return F(),A(c(he),{drag:"",ref_key:"uploadRef",ref:l,action:"","on-change":d,"on-exceed":c(t),limit:1,accept:c(s),"auto-upload":!1},{default:r(()=>[a(h,{class:"el-icon--upload"},{default:r(()=>[a(c(ze))]),_:1}),Sn]),_:1},8,["on-exceed","accept"])}}}),kn=E(" \u6570\u636E\u7C7B\u578B\uFF1A "),Ln=x({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:n}){const{uploadTypeRadioKeyList:l}=M(),u=t=>{n("update:modelValue",t)};return(t,s)=>{const d=oe,i=re;return F(),v("div",null,[kn,a(i,{modelValue:e.modelValue,"onUpdate:modelValue":s[0]||(s[0]=o=>z(modelValue)?modelValue.value=o:null),onChange:u},{default:r(()=>[(F(!0),v(V,null,I(c(l),o=>(F(),A(d,{label:o.id,size:"large",border:""},{default:r(()=>[E(D(o.text),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])])}}}),In=x({setup(e){const{dateTime:n}=q(M());return(l,u)=>{const t=Ee,s=Fe,d=De;return F(),A(d,{inline:!0,class:"demo-form-inline"},{default:r(()=>[a(s,{label:"\u65F6\u95F4\u8303\u56F4"},{default:r(()=>[a(t,{modelValue:c(n),"onUpdate:modelValue":u[0]||(u[0]=i=>z(n)?n.value=i:null),type:"datetimerange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},null,8,["modelValue"])]),_:1})]),_:1})}}});var Tn=()=>{const e=M(),{uploadTypeRadioKeyList:n}=q(e),l=$(n.value[0].id),u=$(),t=o=>{const{saveSeries:h}=e,{list:f,sheetName:m,fileName:_,uploadType:b}=o;let y=vn(m,_);if(b.value==n.value[0].id)An(yn(f,y),y);else if(b.value==ye||b.value==Ce)h(f,b.value),O.success(`\u5DF2\u6DFB\u52A0${f.length}\u6761\u6570\u636E`);else throw new Error("\u7C7B\u578B\u9519\u8BEF")},s=X({visible:!1,sheetNames:[],sheetIndex:0,fileName:""});return{workBook:u,sheetDialogConfig:s,openSheetDialog:(o,h)=>{s.sheetNames=h,s.visible=!0,s.fileName=o},uploadType:l,handleSheetSelect:o=>{if(!u.value)return;let h=wn(u.value,o);t({list:h,sheetName:u.value.SheetNames[o],fileName:s.fileName,uploadType:l}),u.value=void 0}}};const jn=x({setup(e){const{seriesList:n}=q(M()),l=$(!1),u=B(()=>{let s=n.value[S[0].label].length==0;return{title:`${S[0].text} \u6570\u636E\u4E0D\u5B58\u5728`,show:s}}),t=B(()=>{let s=n.value[S[1].label].length==0;return{title:`${S[1].text} \u6570\u636E\u4E0D\u5B58\u5728`,show:s}});return(s,d)=>(F(),v(V,null,[c(u).show?(F(),A(c(ce),{key:0,title:c(u).title,type:"error",closable:l.value},null,8,["title","closable"])):pe("",!0),c(t).show?(F(),A(c(ce),{key:1,title:c(t).title,type:"error",closable:l.value},null,8,["title","closable"])):pe("",!0)],64))}});var Pn=k(jn,[["__scopeId","data-v-60020830"]]);const Rn=x({setup(e){const{seriesList:n}=q(M()),l=B(()=>({label:S[0].text,desc:`${n.value[S[0].label].length}\u6761`})),u=B(()=>({label:S[1].text,desc:`${n.value[S[1].label].length}\u6761`}));return(t,s)=>{const d=qe,i=Xe;return F(),A(i,{border:"",title:"\u8F66\u7CFB\u8D44\u6599"},{default:r(()=>[a(d,{label:c(l).label},{default:r(()=>[E(D(c(l).desc),1)]),_:1},8,["label"]),a(d,{label:c(u).label},{default:r(()=>[E(D(c(u).desc),1)]),_:1},8,["label"])]),_:1})}}}),Nn={class:"dialog-footer"},Jn=E("\u53D6\u6D88"),Mn=E(" \u786E\u5B9A "),Un=x({props:{sheetIndex:{type:Number,default:0},visible:{type:Boolean,default:!1},fileName:{type:String},sheetNames:{type:Array,default:[]}},emits:["update:sheetIndex","update:visible","select"],setup(e,{emit:n}){const l=e,u=B({get(){return l.visible},set(d){n("update:visible",d)}}),t=d=>{n("update:sheetIndex",d)},s=()=>{u.value=!1,n("select",l.sheetIndex)};return(d,i)=>{const o=oe,h=re,f=te,m=Ye;return F(),A(m,{modelValue:c(u),"onUpdate:modelValue":i[2]||(i[2]=_=>z(u)?u.value=_:null),title:"\u9009\u62E9Sheet"},{footer:r(()=>[p("span",Nn,[a(f,{onClick:i[1]||(i[1]=_=>u.value=!1)},{default:r(()=>[Jn]),_:1}),a(f,{type:"primary",onClick:s},{default:r(()=>[Mn]),_:1})])]),default:r(()=>[p("p",null,D(e.fileName),1),a(h,{modelValue:e.sheetIndex,"onUpdate:modelValue":i[0]||(i[0]=_=>z(sheetIndex)?sheetIndex.value=_:null),onChange:t},{default:r(()=>[(F(!0),v(V,null,I(e.sheetNames,(_,b)=>(F(),A(o,{label:b,size:"large",border:""},{default:r(()=>[E(D(_),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),On=p("h2",{style:{"text-align":"center"}},"2023\u5E741\u6708\u4EFD\u7559\u8D44\u6570\u636E\u683C\u5F0F\u5316",-1),zn=x({setup(e){const{uploadType:n,sheetDialogConfig:l,openSheetDialog:u,workBook:t,handleSheetSelect:s}=Tn(),d=i=>{xn(i).then(o=>{let h=o;t.value=h,u(i.name,t.value.SheetNames)}).catch(o=>{t.value=void 0,O.error(o.message),console.error(o)})};return(i,o)=>(F(),v(V,null,[On,a(Pn),a(Ln,{modelValue:c(n),"onUpdate:modelValue":o[0]||(o[0]=h=>z(n)?n.value=h:null)},null,8,["modelValue"]),a(Vn,{onChange:d}),a(In),a(Rn),a(Un,{sheetIndex:c(l).sheetIndex,"onUpdate:sheetIndex":o[1]||(o[1]=h=>c(l).sheetIndex=h),visible:c(l).visible,"onUpdate:visible":o[2]||(o[2]=h=>c(l).visible=h),"sheet-names":c(l).sheetNames,onSelect:c(s),"file-name":c(l).fileName},null,8,["sheetIndex","visible","sheet-names","onSelect","file-name"])],64))}}),qn=[{path:"/",name:"index",component:hu,meta:{menuHidden:!0},children:[{path:"/",name:"dashboard",component:Cu,meta:{title:"\u9996\u9875"}},{path:"/volume",name:"volume",component:nu,meta:{title:"\u4F53\u79EF\u8BA1\u7B97"}},{path:"/tongji",name:"tongji",component:Rt,meta:{title:"\u54C1\u724C\u7EDF\u8BA1"}},{path:"/ftms",name:"ftms",component:zn,meta:{title:"\u7559\u8D44\u6570\u636E\u683C\u5F0F\u5316"}},{path:"dingnengorder",name:"dingnengOrder",redirect:"/dingnengorder/create",meta:{title:"\u9F0E\u80FD\u9762\u5355"},children:[{path:"create",name:"dingnengOrderCreate",component:Ru,meta:{menuHidden:!0}}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:wu,meta:{menuHidden:!0}}]},{path:"/dingnengorder/print",name:"dingnengOrderPrint",component:fn,meta:{menuHidden:!0}}],Xn=He({history:Ke(),routes:qn});const Yn=Ge();We(tt).use(Xn).use(Yn).mount("#app");
